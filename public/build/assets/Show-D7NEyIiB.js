import{j as e}from"./app-DR2vn0Ou.js";import{r,H as p,L as h}from"./inertia-Clk-cdek.js";import{S as u}from"./StudentLayout-DQKqvdnh.js";import{E as w,G as S,ah as k,u as F}from"./heroicons-CTwCrMww.js";import{K as c}from"./transition-Cw_pkg33.js";import{h as x}from"./dialog-nL0D7On1.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-xgBc-P8m.js";import"./ErrorBoundary-fz_7TGlW.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";function G({student:g,semester:j,academic_year:d,subject_records:a,semester_average:b,rank:f,total_students:y,semester_status:i}){const[N,o]=r.useState(!1),[l,m]=r.useState(null);if(!g||!d)return e.jsxs(u,{children:[e.jsx(p,{title:"Semester Record"}),e.jsx("div",{className:"max-w-7xl mx-auto p-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Unable to load semester record. Please try again."}),e.jsx(h,{href:route("student.academic.semesters"),className:"mt-4 inline-block text-blue-600 hover:text-blue-800",children:"Back to Semesters"})]})})]});const v=s=>{m(s),o(!0)},n=()=>{o(!1),m(null)};return e.jsxs(u,{children:[e.jsx(p,{title:`Semester ${j} - ${d?.name}`}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-5 pb-8",children:[e.jsx("div",{children:e.jsxs(h,{href:route("student.academic.semesters"),className:"inline-flex items-center text-gray-600 hover:text-blue-600 transition-colors mb-2 group",children:[e.jsx(w,{className:"w-4 h-4 mr-1.5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-sm font-semibold",children:"Back to All Semesters"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:e.jsx(S,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Subject Mastery"}),e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Performance in each subject"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${i==="open"?"bg-green-500":"bg-blue-500"}`}),e.jsx("span",{className:"text-xs font-bold text-gray-700",children:i==="open"?"Live Period":"Verified"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Subject"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Mark out of 100"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a&&a.length>0?e.jsxs(e.Fragment,{children:[a.map((s,t)=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.subject.name}),e.jsx("span",{className:"text-xs text-gray-600 font-mono",children:s.subject.code}),s.graded_assessments<s.total_assessments&&e.jsxs("span",{className:"text-xs text-yellow-700 font-semibold mt-0.5",children:[s.graded_assessments,"/",s.total_assessments," graded"]})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:s.graded_assessments>0?e.jsxs("span",{className:"text-base font-bold text-blue-600",children:[s.total_score," / ",s.total_max_score]}):e.jsx("span",{className:"text-sm text-gray-500 font-semibold",children:"Not Graded"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsx("button",{onClick:()=>v(s),className:"px-3 py-1.5 bg-blue-600 rounded-lg font-bold text-xs text-white uppercase hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",children:"View Details"})})]},t)),e.jsxs("tr",{className:"bg-gray-100/80 font-bold border-t-2 border-gray-300",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 uppercase tracking-wider",children:"Total Marks"}),e.jsxs("td",{className:"px-4 py-3 text-center text-lg text-blue-700",children:[a.reduce((s,t)=>s+(t.total_score||0),0)," / ",a.reduce((s,t)=>s+(t.total_max_score||0),0)]}),e.jsx("td",{className:"px-4 py-3"})]}),e.jsxs("tr",{className:"bg-blue-50/50 font-bold",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 uppercase tracking-wider",children:"Average Percentage"}),e.jsxs("td",{className:"px-4 py-3 text-center text-lg text-blue-700",children:[b,"%"]}),e.jsx("td",{className:"px-4 py-3"})]}),e.jsxs("tr",{className:"bg-amber-50/30 font-bold",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 uppercase tracking-wider",children:"Class Rank"}),e.jsxs("td",{className:"px-4 py-3 text-center text-lg text-amber-600",children:["#",f," ",e.jsxs("span",{className:"text-xs text-gray-400 font-bold whitespace-nowrap",children:["/ ",y]})]}),e.jsx("td",{className:"px-4 py-3"})]})]}):e.jsx("tr",{children:e.jsxs("td",{colSpan:"3",className:"px-4 py-8 text-center",children:[e.jsx("div",{className:"mx-auto w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:e.jsx(k,{className:"w-5 h-5 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"No academic records found for this semester."})]})})})]})})]})]}),e.jsx(c,{appear:!0,show:N,as:r.Fragment,children:e.jsxs(x,{as:"div",className:"relative z-[60]",onClose:n,children:[e.jsx(c.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(c.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(x.Panel,{className:"w-full max-w-xl transform overflow-hidden rounded-xl bg-white p-4 text-left align-middle shadow-xl transition-all",children:[e.jsxs(x.Title,{as:"div",className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:l?.subject.name}),e.jsxs("div",{className:"flex items-center mt-0.5 space-x-1.5",children:[e.jsx("span",{className:"text-xs text-gray-700 font-mono bg-gray-100 px-1.5 py-0.5 rounded",children:l?.subject.code}),e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),e.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[l?.average,"% Average"]})]})]}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-full hover:bg-gray-100",children:e.jsx(F,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Assessment"}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-bold text-gray-700 uppercase",children:"Max Score"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-bold text-gray-700 uppercase",children:"Score"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:l?.marks.length>0?l.marks.map((s,t)=>e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-3 py-2 text-sm font-semibold text-gray-900",children:s.assessment_name}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-semibold text-center",children:s.max_score}),e.jsx("td",{className:"px-3 py-2 text-right",children:s.is_submitted?e.jsx("span",{className:`font-bold text-sm ${s.score>=s.max_score*.9?"text-green-600":"text-gray-900"}`,children:s.score}):e.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"0"})})]},t)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-3 py-6 text-center text-gray-600 text-sm font-medium",children:"No assessments recorded yet."})})})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",className:"px-4 py-1.5 rounded-lg bg-blue-600 text-white text-sm font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",onClick:n,children:"Done"})})]})})})})]})})]})}export{G as default};
