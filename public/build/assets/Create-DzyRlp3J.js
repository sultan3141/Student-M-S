import{j as e}from"./app-GMuDqh-e.js";import{b as S,H as A,L as u}from"./inertia-Clk-cdek.js";import{T as C}from"./TeacherLayout-2YdCSqjO.js";import{E as _,t as P,ar as b,an as R}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-BRfk2-zE.js";import"./ErrorBoundary-DEJ3hpS8.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function q({auth:L,section:c,subject:n,grade:m,students:x,date:h,formattedDate:f}){const{data:a,setData:o,post:y,processing:p,errors:$}=S({section_id:c.id,subject_id:n.id,date:h,students:x.map(t=>({id:t.id,status:t.status,remarks:t.remarks}))}),i=(t,r)=>{const s=[...a.students];s[t].status=r,o("students",s)},j=(t,r)=>{const s=[...a.students];s[t].remarks=r,o("students",s)},g=t=>{const r=a.students.map(s=>({...s,status:t}));o("students",r)},w=t=>{t.preventDefault(),y(route("teacher.attendance.store"))},d=({currentStatus:t,targetStatus:r,label:s,color:v,onClick:N})=>{const l=t===r,k={green:l?"bg-green-600 text-white":"bg-gray-50 text-gray-400 hover:bg-green-50 hover:text-green-600",red:l?"bg-red-600 text-white":"bg-gray-50 text-gray-400 hover:bg-red-50 hover:text-red-600",amber:l?"bg-amber-500 text-white":"bg-gray-50 text-gray-400 hover:bg-amber-50 hover:text-amber-600"};return e.jsxs("button",{type:"button",onClick:N,className:`px-5 py-3 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all flex items-center gap-2 border border-transparent ${k[v]} ${l?"scale-100":"opacity-70 hover:opacity-100"}`,children:[l&&e.jsx(R,{className:"w-3 h-3 stroke-[3]"}),s]})};return e.jsxs(C,{children:[e.jsx(A,{title:`Mark Attendance - ${n.name}`}),e.jsxs("div",{className:"max-w-5xl mx-auto pb-12",children:[e.jsxs("div",{className:"mb-10 flex flex-col lg:flex-row lg:items-end justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(u,{href:route("teacher.attendance.index"),className:"p-3.5 rounded-xl bg-white border border-gray-100 text-gray-400 hover:text-blue-600 hover:border-blue-100 transition-all group shrink-0",children:e.jsx(_,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[e.jsx("span",{className:"text-blue-600",children:m.name}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsxs("span",{className:"text-gray-900 border-b border-gray-50",children:["Section ",c.name]})]}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight uppercase",children:["Record ",e.jsx("span",{className:"text-blue-600",children:"Attendance"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-2 bg-gray-50 border border-gray-100 rounded-xl text-[10px] font-bold text-gray-400 tracking-widest flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-blue-500"}),f]}),e.jsx("span",{className:"px-4 py-2 bg-blue-50 border border-blue-50 rounded-xl text-[10px] font-bold text-blue-600 tracking-widest uppercase italic",children:n.name})]})]})]}),e.jsxs("div",{className:"bg-white p-2 rounded-2xl border border-gray-100 flex items-center gap-2",children:[e.jsx("span",{className:"px-4 text-[9px] font-bold text-gray-300 uppercase tracking-widest border-r border-gray-50 mr-1",children:"Batch Ops"}),e.jsx("button",{type:"button",onClick:()=>g("Present"),className:"px-5 py-2.5 rounded-xl bg-green-50 text-green-600 text-[10px] font-bold uppercase tracking-widest hover:bg-green-600 hover:text-white transition-all",children:"Mark All Present"}),e.jsx("button",{type:"button",onClick:()=>g("Absent"),className:"px-5 py-2.5 rounded-xl bg-red-50 text-red-600 text-[10px] font-bold uppercase tracking-widest hover:bg-red-600 hover:text-white transition-all",children:"Mark All Absent"})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-3xl p-6 flex items-start gap-5 mb-10",children:[e.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-2xl shadow-sm shrink-0",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-relaxed",children:[e.jsx("span",{className:"text-gray-900",children:"Attendance advisory:"})," once synchronized, these records are finalized for reporting and notifications. Please ensure high accuracy before proceeding with the sync."]})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsx("div",{className:"space-y-3",children:x.map((t,r)=>e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 p-6 transition-all hover:border-blue-200 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-600 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5 min-w-[260px]",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center text-gray-300 group-hover:bg-blue-50 group-hover:text-blue-500 transition-all font-bold text-lg border border-gray-50 shadow-sm overflow-hidden",children:t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:"",className:"w-full h-full object-cover"}):t.name.substring(0,2).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight uppercase tracking-tight",children:t.name}),e.jsxs("p",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:["STU ID: ",t.student_id]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:mx-auto",children:[e.jsx(d,{currentStatus:a.students[r].status,targetStatus:"Present",label:"Present",color:"green",onClick:()=>i(r,"Present")}),e.jsx(d,{currentStatus:a.students[r].status,targetStatus:"Absent",label:"Absent",color:"red",onClick:()=>i(r,"Absent")}),e.jsx(d,{currentStatus:a.students[r].status,targetStatus:"Late",label:"Late",color:"amber",onClick:()=>i(r,"Late")})]}),e.jsx("div",{className:"lg:w-64",children:e.jsx("input",{type:"text",value:a.students[r].remarks||"",onChange:s=>j(r,s.target.value),placeholder:"Session remark...",className:"w-full bg-gray-50/50 border border-gray-100 rounded-xl py-3 px-5 text-[10px] font-bold text-gray-700 placeholder:text-gray-300 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 transition-all"})})]})]},t.id))}),e.jsxs("div",{className:"sticky bottom-8 bg-white/95 backdrop-blur-md rounded-2xl border border-gray-100 p-6 flex flex-col sm:flex-row items-center justify-between gap-6 shadow-lg border-t-2 border-t-blue-600 transition-all z-20",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gray-900 flex items-center justify-center text-white",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-900 leading-none mb-1.5 uppercase tracking-widest",children:"Commit Session Records?"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-[10px] font-bold text-green-600 uppercase tracking-widest",children:[a.students.filter(t=>t.status==="Present").length," P"]}),e.jsx("span",{className:"w-1 h-1 bg-gray-200 rounded-full"}),e.jsxs("span",{className:"text-[10px] font-bold text-red-600 uppercase tracking-widest",children:[a.students.filter(t=>t.status==="Absent").length," A"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx(u,{href:route("teacher.attendance.index"),className:"flex-1 sm:flex-none px-6 py-4 rounded-xl text-[10px] font-bold text-gray-400 hover:text-gray-900 hover:bg-gray-50 transition-all text-center uppercase tracking-widest",children:"Discard"}),e.jsx("button",{type:"submit",disabled:p,className:"flex-1 sm:flex-none px-10 py-4 bg-blue-600 text-white rounded-xl text-[10px] font-bold hover:bg-blue-700 disabled:opacity-50 transition-all uppercase tracking-widest",children:p?"Syncing...":"Sync Now"})]})]})]})]})]})}export{q as default};
