import{j as e}from"./app-DzAc3SyI.js";import{r as g,a as C,b as P,H as A}from"./inertia-Clk-cdek.js";import{T as B}from"./TeacherLayout-knxkptoC.js";import{a0 as I,z as _,m as $,a5 as D,S as F,aw as E,ak as M,b as k,G as S,s as O,U as y,ax as U}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-rVbWSTwk.js";import"./ErrorBoundary-ChURTrwD.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function T({students:n,data:u,setData:o,maxScore:m=100,disabled:r=!1}){const[c,h]=g.useState({}),[b,p]=g.useState(null),[w,f]=g.useState(new Set);g.useEffect(()=>{const s={};n.forEach(t=>{s[t.id]=u.marks?.find(l=>l.student_id===t.id)?.marks_obtained||""}),h(s)},[n,u.marks]);const N=(s,t)=>{h(l=>({...l,[s]:t}))},v=s=>{const t=c[s];if(t!==""&&(isNaN(t)||t<0||t>m)){alert(`Please enter a valid mark between 0 and ${m}`);return}const l=[...u.marks||[]],i=l.findIndex(x=>x.student_id===s);i>=0?l[i].marks_obtained=t:l.push({student_id:s,marks_obtained:t}),o("marks",l),t!==""&&f(x=>new Set([...x,s]))},a=(s,t,l)=>w.has(s)&&t!==""?{icon:_,text:"Saved",color:"text-green-600",bgColor:"bg-green-50"}:b===s?{icon:null,text:"Editing",color:"text-blue-600",bgColor:"bg-blue-50"}:t===""||t===null||t===void 0?{icon:null,text:"Empty",color:"text-gray-400",bgColor:"bg-gray-50"}:parseFloat(t)<40?{icon:$,text:"Very Low",color:"text-red-600",bgColor:"bg-red-50"}:parseFloat(t)<50?{icon:$,text:"Low",color:"text-orange-600",bgColor:"bg-orange-50"}:parseFloat(t)>=85?{icon:D,text:"High",color:"text-green-600",bgColor:"bg-green-50"}:{icon:null,text:"Average",color:"text-blue-600",bgColor:"bg-blue-50"},j=(s,t)=>{if(s.key==="Enter"){s.preventDefault();const l=t+1;l<n.length&&document.getElementById(`mark-input-${n[l].id}`)?.focus()}else if(s.key==="ArrowDown"){s.preventDefault();const l=t+1;l<n.length&&document.getElementById(`mark-input-${n[l].id}`)?.focus()}else if(s.key==="ArrowUp"){s.preventDefault();const l=t-1;l>=0&&document.getElementById(`mark-input-${n[l].id}`)?.focus()}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"#"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Student"}),e.jsxs("th",{className:"px-6 py-4 text-center text-xs font-bold text-white uppercase tracking-wider",children:["Mark (0-",m,")"]}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((s,t)=>{const l=c[s.id],i=a(s.id,l,s.previous_mark),x=i.icon;return e.jsxs("tr",{className:`
                                        transition-colors duration-150
                                        ${b===s.id?"bg-blue-50":"hover:bg-gray-50"}
                                    `,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:s.name.charAt(0)}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",s.student_id]}),s.previous_mark&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Last: ",s.previous_mark,"%"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("input",{id:`mark-input-${s.id}`,type:"number",min:"0",max:m,value:l||"",onChange:d=>N(s.id,d.target.value),onFocus:()=>p(s.id),onBlur:()=>{p(null),v(s.id)},onKeyDown:d=>j(d,t),disabled:r,className:`
                                                w-24 px-3 py-2 text-center text-lg font-semibold
                                                border-2 rounded-lg transition-all duration-200
                                                focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                                ${r?"bg-gray-50 text-gray-400 cursor-not-allowed border-gray-200":b===s.id?"border-blue-500 bg-blue-50":"border-gray-300"}
                                                ${l===""?"text-gray-400":"text-gray-900"}
                                            `,placeholder:"--"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:`
                                            inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-semibold
                                            ${i.bgColor} ${i.color}
                                        `,children:[x&&e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{children:i.text})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(I,{className:"w-5 h-5"})})})]},s.id)})})]})}),n.length===0&&e.jsx("div",{className:"text-center py-12 bg-gray-50",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No students found in this section."})})]})}function L({assessmentId:n,onImportComplete:u}){const[o,m]=g.useState("csv"),[r,c]=g.useState(!1),[h,b]=g.useState(""),[p,w]=g.useState(""),[f,N]=g.useState("all"),v=async t=>{const l=t.target.files[0];if(!l)return;const i=new FormData;i.append("file",l),c(!0);try{const x=await C.post(`/teacher/assessments/${n}/import`,i,{headers:{"Content-Type":"multipart/form-data"}});x.data.success&&(alert(`Successfully imported ${x.data.imported} marks!`),x.data.errors.length>0&&console.warn("Import errors:",x.data.errors),u?.())}catch(x){console.error("Upload error:",x),alert("Failed to upload CSV. Please check the format and try again.")}finally{c(!1)}},a=async()=>{try{const t=await C.get(`/teacher/assessments/${n}/template`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=l,i.setAttribute("download","marks_template.csv"),document.body.appendChild(i),i.click(),i.remove()}catch(t){console.error("Template download error:",t),alert("Failed to download template.")}},j=()=>{const t=h.trim().split(`
`);console.log("Processing pasted data:",t),alert(`Found ${t.length} rows. Processing...`)},s=()=>{if(!p||isNaN(p)||p<0||p>100){alert("Please enter a valid mark between 0 and 100");return}console.log(`Setting bulk value: ${p} for ${f}`),alert(`Bulk operation would set ${p} for ${f} students.`)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"üì• Bulk Mark Operations"}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsx("button",{onClick:()=>m("csv"),className:`
                        px-6 py-3 font-semibold transition-colors
                        ${o==="csv"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}
                    `,children:"Upload CSV"}),e.jsx("button",{onClick:()=>m("paste"),className:`
                        px-6 py-3 font-semibold transition-colors
                        ${o==="paste"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}
                    `,children:"Copy-Paste"}),e.jsx("button",{onClick:()=>m("bulk"),className:`
                        px-6 py-3 font-semibold transition-colors
                        ${o==="bulk"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}
                    `,children:"Bulk Set"})]}),e.jsxs("div",{className:"space-y-6",children:[o==="csv"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(F,{className:"w-6 h-6 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),e.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"Download the CSV template"}),e.jsx("li",{children:"Fill in marks using Excel or Google Sheets"}),e.jsx("li",{children:"Upload the completed file back"})]})]})]})}),e.jsx("div",{className:"flex space-x-4",children:e.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Template"})]})}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors",children:[e.jsx("input",{type:"file",accept:".csv",onChange:v,className:"hidden",id:"csv-upload",disabled:r}),e.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[e.jsx(E,{className:"w-12 h-12 text-gray-400 mb-3"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700 mb-1",children:r?"Uploading...":"Click to upload CSV"}),e.jsx("span",{className:"text-sm text-gray-500",children:"or drag and drop"})]})]})]}),o==="paste"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"w-6 h-6 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Paste from Excel:"}),e.jsx("p",{className:"text-sm text-green-800",children:"Copy data from Excel (Student ID, Name, Mark) and paste below. Columns should be tab-separated."})]})]})}),e.jsx("textarea",{value:h,onChange:t=>b(t.target.value),placeholder:`Student ID, Student Name, Marks
STU-1001, Sara Chen, 92
STU-1002, Michael Brown, 85
...`,className:"w-full h-48 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 font-mono text-sm"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:j,disabled:!h.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"üìã Validate Data"}),e.jsx("button",{onClick:j,disabled:!h.trim(),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"‚ñ∂ Apply Marks"})]})]}),o==="bulk"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(k,{className:"w-6 h-6 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Bulk Operations:"}),e.jsx("p",{className:"text-sm text-purple-800",children:"Set the same mark for multiple students at once. Use with caution!"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Apply to:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"bulk-option",value:"all",checked:f==="all",onChange:t=>N(t.target.value),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700",children:"All Students"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"bulk-option",value:"selected",checked:f==="selected",onChange:t=>N(t.target.value),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700",children:"Selected Only"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mark value (0-100):"}),e.jsx("input",{type:"number",min:"0",max:"100",value:p,onChange:t=>w(t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-lg font-semibold focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter mark"})]}),e.jsxs("button",{onClick:s,disabled:!p,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:["Apply to ",f==="all"?"All":"Selected"," Students"]})]})]})]})]})}function V({marks:n,maxScore:u=100}){const o=g.useMemo(()=>{const r=n.filter(a=>a!=null&&a!=="").map(Number);if(r.length===0)return{average:0,highest:0,lowest:0,passRate:0,stdDeviation:0,distribution:{"0-49":0,"50-59":0,"60-69":0,"70-79":0,"80-89":0,"90-100":0},totalEntered:0};const c=r.reduce((a,j)=>a+j,0)/r.length,h=Math.max(...r),b=Math.min(...r),w=r.filter(a=>a>=50).length/r.length*100,f=r.reduce((a,j)=>a+Math.pow(j-c,2),0)/r.length,N=Math.sqrt(f),v={"0-49":r.filter(a=>a>=0&&a<50).length,"50-59":r.filter(a=>a>=50&&a<60).length,"60-69":r.filter(a=>a>=60&&a<70).length,"70-79":r.filter(a=>a>=70&&a<80).length,"80-89":r.filter(a=>a>=80&&a<90).length,"90-100":r.filter(a=>a>=90&&a<=100).length};return{average:c.toFixed(2),highest:h,lowest:b,passRate:w.toFixed(1),stdDeviation:N.toFixed(1),distribution:v,totalEntered:r.length}},[n]),m=Math.max(...Object.values(o.distribution));return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2 text-blue-600"}),"üìà Performance Preview"]}),o.totalEntered===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(S,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Enter marks to see live statistics and distribution"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[e.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Average"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[o.average,"%"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[e.jsxs("p",{className:"text-xs text-green-600 font-semibold mb-1 flex items-center",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Highest"]}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[o.highest,"%"]})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border-l-4 border-red-500",children:[e.jsxs("p",{className:"text-xs text-red-600 font-semibold mb-1 flex items-center",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Lowest"]}),e.jsxs("p",{className:"text-2xl font-bold text-red-900",children:[o.lowest,"%"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500",children:[e.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:"Pass Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[o.passRate,"%"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-gray-500",children:[e.jsx("p",{className:"text-xs text-gray-600 font-semibold mb-1",children:"Std Dev"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.stdDeviation})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-4",children:"Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(o.distribution).map(([r,c])=>{const h=m>0?c/m*100:0,b=r==="0-49"?"bg-red-500":r==="50-59"?"bg-orange-500":r==="60-69"?"bg-yellow-500":r==="70-79"?"bg-blue-500":r==="80-89"?"bg-green-500":"bg-emerald-500";return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-20 text-sm font-semibold text-gray-700",children:r}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-8 relative overflow-hidden",children:e.jsx("div",{className:`${b} h-full rounded-full transition-all duration-500 ease-out flex items-center px-3`,style:{width:`${h}%`},children:c>0&&e.jsx("span",{className:"text-white text-sm font-bold",children:c})})}),e.jsx("div",{className:"w-16 text-right text-sm text-gray-600",children:c>0?`${(c/o.totalEntered*100).toFixed(0)}%`:""})]},r)})})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Summary:"})," ",o.totalEntered," marks entered ‚Ä¢ Average: ",e.jsxs("span",{className:"font-bold text-blue-700",children:[o.average,"%"]})," ‚Ä¢ Pass Rate: ",e.jsxs("span",{className:"font-bold text-green-700",children:[o.passRate,"%"]})]})})]})]})}function ee({assessment:n,students:u,subject:o,semester:m,is_locked:r}){const[c,h]=g.useState(!1),[b,p]=g.useState(!0),{data:w,setData:f,post:N,processing:v}=P({assessment_id:n.id,marks:[]});w.marks.length===0&&u.length>0&&u.map(d=>({student_id:d.id,marks_obtained:d.mark,student_name:d.name,student_code:d.student_id}));const a=d=>{d.preventDefault(),N(route("teacher.marks.store"))},j=w.marks?.filter(d=>d.marks_obtained!==null&&d.marks_obtained!=="").length||0,s=u.length,t=s>0?Math.round(j/s*100):0,l=w.marks?.map(d=>d.marks_obtained)||[],i=l.filter(d=>d!==null&&d!==""&&d!==void 0),x=i.length>0?(i.reduce((d,R)=>parseFloat(d)+parseFloat(R),0)/i.length).toFixed(1):0;return e.jsxs(B,{children:[e.jsx(A,{title:`Enter Marks - ${n.name}`}),e.jsxs("div",{className:"bg-gradient-to-br from-[#1E40AF] to-[#3B82F6] shadow-md mb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-100/80 mb-4",children:[e.jsxs("span",{className:"hover:text-white transition-colors cursor-pointer",children:["Grade ",n.grade?.name||"N/A"]}),e.jsx(y,{className:"w-4 h-4 mx-2 text-white/50"}),e.jsxs("span",{className:"hover:text-white transition-colors cursor-pointer",children:["Section ",n.section?.name||"N/A"]}),e.jsx(y,{className:"w-4 h-4 mx-2 text-white/50"}),e.jsx("span",{className:"hover:text-white transition-colors cursor-pointer",children:o}),e.jsx(y,{className:"w-4 h-4 mx-2 text-white/50"}),e.jsx("span",{className:"font-semibold text-white",children:n.name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"üìä Enter Marks"}),e.jsxs("p",{className:"text-blue-100 mt-1",children:[o," ‚Ä¢ Semester ",m," ‚Ä¢ ",u.length," Students"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20 shadow-lg",children:[e.jsx("span",{className:"text-white font-medium",children:n.name}),e.jsxs("span",{className:"px-2 py-0.5 bg-white text-[#1E40AF] text-xs font-bold rounded-full",children:[n.weight,"% Weight"]})]})]})]}),r&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 mx-4 sm:mx-0 rounded-r-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(k,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("span",{className:"font-bold",children:"Read Only Mode:"})," Result entry for Semester ",m," is currently ",e.jsx("span",{className:"font-bold",children:"CLOSED"})," by the Director. You cannot edit marks."]})})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>h(!c),disabled:r,className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-colors ${c?"bg-blue-600 text-white":"bg-white text-blue-600 border-2 border-blue-200 hover:bg-blue-50"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Import CSV"})]}),e.jsxs("button",{onClick:()=>h(!c),disabled:r,className:`flex items-center space-x-2 px-4 py-2 bg-white text-green-600 border-2 border-green-200 rounded-lg font-semibold hover:bg-green-50 transition-colors ${r?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{children:"Paste Data"})]}),e.jsxs("button",{onClick:()=>p(!b),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-semibold transition-colors ${b?"bg-purple-600 text-white":"bg-white text-purple-600 border-2 border-purple-200 hover:bg-purple-50"}`,children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Stats"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-white text-gray-600 border-2 border-gray-200 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{children:"Save Draft"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-white text-gray-600 border-2 border-gray-200 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:"Settings"})]})]}),e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[c&&e.jsx(L,{assessmentId:n.id,onImportComplete:()=>window.location.reload()}),b&&e.jsx(V,{marks:l}),e.jsx(T,{students:u,data:w,setData:f,maxScore:n.max_score||100,disabled:r}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Entered"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[j,"/",s]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Average"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[x,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[t,"%"]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 bg-white/20 text-white rounded-lg font-semibold hover:bg-white/30 transition-colors",children:"‚Üê Back"}),e.jsx("button",{type:"submit",disabled:v||r,className:"px-6 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg flex items-center space-x-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsx(e.Fragment,{children:r?"Locked":"Submit All Marks ‚Üí"})})]})]})})]})]})}export{ee as default};
