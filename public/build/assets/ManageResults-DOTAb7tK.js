import{j as e}from"./app-PKZgXky8.js";import{T as R}from"./TeacherLayout-Dc6ikSbd.js";import{r as d,H as E,L,d as h}from"./inertia-Clk-cdek.js";import{y as u,M}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-Cj0b0wi-.js";import"./ErrorBoundary-Dcn_DJN7.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function K({grades:b,subjects:x,students:f,selectedGrade:j,selectedSection:y,academicYear:v,semesterStatuses:$,selectedSemester:P}){const[s,w]=d.useState({grade_id:j?.id||"",section_id:y?.id||"",subject_id:""}),[p,N]=d.useState(""),[n,T]=d.useState(10),[r,c]=d.useState(1),g=(t,l)=>{const a={...s,[t]:l};t==="grade_id"?(a.section_id="",a.subject_id=""):t==="section_id"&&(a.subject_id=""),w(a),a.grade_id&&a.section_id&&h.get(route("teacher.students.manage-results"),{grade_id:a.grade_id,section_id:a.section_id},{preserveState:!0,preserveScroll:!0})},k=(t,l)=>{h.get(route("teacher.students.edit-result",{student:t,subject:l}))},o=t=>t===100?"text-green-600":t>=50?"text-yellow-600":t>0?"text-orange-600":"text-red-600",_=t=>t===100?"Complete":t>=50?"Partial":t>0?"Started":"Not Filled",S=b.find(t=>t.id===parseInt(s.grade_id)),m=f?.filter(t=>t.name.toLowerCase().includes(p.toLowerCase())||t.student_id.toLowerCase().includes(p.toLowerCase()))||[],i=Math.ceil(m.length/n),C=m.slice((r-1)*n,r*n);return e.jsxs(R,{children:[e.jsx(E,{title:"Manage Student Results"}),e.jsx("div",{className:"py-8 bg-gray-50/50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-16",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 mb-3",children:[e.jsx(L,{href:route("teacher.dashboard"),className:"hover:text-blue-600 transition-colors",children:"Dashboard"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-gray-900",children:"Result Management"})]}),e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight uppercase",children:["Student ",e.jsx("span",{className:"text-blue-600",children:"Results"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"px-5 py-2.5 bg-white border border-gray-100 rounded-2xl shadow-sm text-[11px] font-black text-gray-400 tracking-widest flex items-center gap-2 h-fit",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),v?.name||"2025–2026"]})})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-16",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 p-12 transition-all hover:shadow-md relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-50 to-blue-600/20"}),e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:["Class ",e.jsx("span",{className:"text-blue-600",children:"Selection"})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] mt-2",children:"Select grade, section, and subject to begin"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Academic Grade"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:s.grade_id,onChange:t=>g("grade_id",t.target.value),className:"w-full pl-5 pr-12 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Grade"}),b.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(u,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform group-focus-within:rotate-180"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Class Section"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:s.section_id,onChange:t=>g("section_id",t.target.value),disabled:!s.grade_id,className:"w-full pl-5 pr-12 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Section"}),S?.sections?.map(t=>e.jsxs("option",{value:t.id,children:["Section ",t.name," ",t.stream&&`(${t.stream.name})`]},t.id))]}),e.jsx(u,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform group-focus-within:rotate-180"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Subject"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:s.subject_id,onChange:t=>g("subject_id",t.target.value),disabled:!s.section_id,className:"w-full pl-5 pr-12 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Subject"}),x.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(u,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none transition-transform group-focus-within:rotate-180"})]})]})]})]})}),f&&s.subject_id?e.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-gray-200/30 border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-10 py-8 border-b border-gray-100 bg-white sticky top-0 z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 uppercase",children:"Student Results"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:[j?.name," • Section ",y?.name]}),e.jsx("div",{className:"w-1 h-1 bg-gray-200 rounded-full"}),e.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-wider",children:x.find(t=>t.id===parseInt(s.subject_id))?.name})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative group max-w-xs w-full",children:[e.jsx(M,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-300 transition-colors group-focus-within:text-blue-500"}),e.jsx("input",{type:"text",value:p,onChange:t=>{N(t.target.value),c(1)},className:"w-full pl-12 pr-4 py-3.5 bg-gray-50/50 border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-2xl text-[11px] font-black text-gray-700 transition-all placeholder:text-gray-300",placeholder:"SEARCH BY NAME OR ID..."})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] w-16",children:"#"}),e.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Student Details"}),e.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Gender"}),e.jsxs("th",{className:"px-10 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:[x.find(t=>t.id===parseInt(s.subject_id))?.name," Status"]}),e.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Overall Progress"}),e.jsx("th",{className:"px-10 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:C.map((t,l)=>{const a=t.subject_status[s.subject_id];return e.jsxs("tr",{className:"hover:bg-gray-50/30 transition-colors group",children:[e.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-[11px] font-black text-gray-300 group-hover:text-blue-500 transition-colors",children:String((r-1)*n+l+1).padStart(2,"0")}),e.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 border border-gray-100 flex items-center justify-center text-gray-300 font-black text-lg group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-600 transition-all shadow-sm",children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-gray-900 group-hover:text-blue-600 transition-colors uppercase tracking-tight",children:t.name}),e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-0.5",children:t.student_id})]})]})}),e.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:e.jsx("span",{className:`px-4 py-2 rounded-xl text-[9px] font-black uppercase tracking-widest ${t.gender==="Female"?"bg-pink-50 text-pink-600":"bg-blue-50 text-blue-600"}`,children:t.gender})}),e.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`text-sm font-black ${o(a.percentage)}`,children:[a.percentage,"%"]}),e.jsxs("div",{className:"text-[10px] font-black text-gray-300 uppercase tracking-[0.1em]",children:["(",a.filled,"/",a.total,")"]}),e.jsx("div",{className:"w-px h-3 bg-gray-100"}),a.is_editable?e.jsx("button",{onClick:()=>k(t.id,s.subject_id),className:"text-[10px] font-black text-blue-600 hover:text-blue-800 uppercase tracking-widest transition-colors",children:a.percentage===100?"REVIEW":"ENTER"}):e.jsxs("span",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"LOCKED"]})]}),e.jsx("div",{className:"w-32 h-1.5 bg-gray-50 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-700 ease-out ${o(a.percentage).replace("text-","bg-")}`,style:{width:`${a.percentage}%`}})})]})}),e.jsx("td",{className:"px-10 py-6 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between w-32",children:[e.jsx("div",{className:`text-[9px] font-black uppercase tracking-widest ${o(t.completion_percentage)} opacity-80`,children:_(t.completion_percentage)}),e.jsxs("div",{className:"text-[10px] font-black text-gray-900",children:[t.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-32 h-1.5 bg-gray-50 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${o(t.completion_percentage).replace("text-","bg-")}`,style:{width:`${t.completion_percentage}%`}})})]})}),e.jsx("td",{className:"px-10 py-6 whitespace-nowrap text-right",children:e.jsx("button",{onClick:()=>h.get(route("teacher.students.show",t.id)),className:"inline-flex items-center px-6 py-2.5 bg-white border border-gray-100 text-gray-900 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all shadow-sm hover:shadow-md active:translate-y-0.5",children:"REPORT"})})]},t.id)})})]})}),e.jsx("div",{className:"px-10 py-8 bg-gray-50/50 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:["Page ",e.jsx("span",{className:"text-gray-900",children:r})," of ",e.jsx("span",{className:"text-gray-900",children:i||1}),e.jsx("span",{className:"mx-3 text-gray-200",children:"|"}),"Showing ",e.jsx("span",{className:"text-gray-900",children:m.length})," Total Students"]}),i>1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(t=>Math.max(1,t-1)),disabled:r===1,className:"px-4 py-2 bg-white border border-gray-100 rounded-xl text-gray-400 disabled:opacity-30 hover:bg-gray-50 transition-all font-black text-[10px] uppercase tracking-widest",children:"PREV"}),e.jsx("div",{className:"flex items-center gap-1.5 px-2",children:Array.from({length:i},(t,l)=>l+1).map(t=>e.jsx("button",{onClick:()=>c(t),className:`w-10 h-10 rounded-xl font-black text-[10px] transition-all ${r===t?"bg-blue-600 text-white shadow-lg shadow-blue-200":"text-gray-400 hover:bg-gray-50"}`,children:String(t).padStart(2,"0")},t))}),e.jsx("button",{onClick:()=>c(t=>Math.min(i,t+1)),disabled:r===i,className:"px-4 py-2 bg-white border border-gray-100 rounded-xl text-gray-400 disabled:opacity-30 hover:bg-gray-50 transition-all font-black text-[10px] uppercase tracking-widest",children:"NEXT"})]})]})})]}):e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-[3rem] border border-gray-100 p-32 text-center shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50/30 rounded-full -mr-16 -mt-16 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-blue-50/20 rounded-full -ml-16 -mb-16 blur-3xl"}),e.jsx("div",{className:"w-24 h-24 bg-gray-50/80 rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 shadow-sm border border-gray-50 group hover:scale-110 transition-transform duration-500",children:e.jsx("svg",{className:"w-10 h-10 text-gray-200 group-hover:text-blue-200 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("h3",{className:"text-2xl font-black text-gray-900 mb-4 uppercase tracking-tight tracking-wide",children:["No Class ",e.jsx("span",{className:"text-blue-600",children:"Selected"})]}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.25em] max-w-xs mx-auto leading-loose opacity-60",children:"Please select a grade, section, and subject above to view results."})]})]})})]})}export{K as default};
