import{j as e}from"./app-CDqUTUpB.js";import{r as t,a as g,H as k,L as p,d as _}from"./inertia-Clk-cdek.js";import{T as C}from"./TeacherLayout-Bp5es9_r.js";import{t as A,v as R,H as E,z as b,Z as F,I as $,ae as L,aa as z}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-BICl3Aqo.js";import"./ErrorBoundary-BtlYm-4L.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function J({auth:G,schedule:o,todayDate:u,stats:m}){const[a,f]=t.useState(""),[r,x]=t.useState(""),[d,l]=t.useState(""),[j,y]=t.useState([]),[N,h]=t.useState([]),[v,n]=t.useState([]),[c,i]=t.useState(!1);t.useEffect(()=>{g.get(route("teacher.attendance.grades")).then(s=>y(s.data)).catch(s=>console.error("Error loading grades:",s))},[]),t.useEffect(()=>{a?(i(!0),g.get(route("teacher.attendance.sections"),{params:{grade_id:a}}).then(s=>{h(s.data),x(""),n([]),l("")}).catch(s=>console.error("Error loading sections:",s)).finally(()=>i(!1))):(h([]),n([]),x(""),l(""))},[a]),t.useEffect(()=>{r?(i(!0),g.get(route("teacher.attendance.subjects"),{params:{section_id:r}}).then(s=>{n(s.data),l("")}).catch(s=>console.error("Error loading subjects:",s)).finally(()=>i(!1))):(n([]),l(""))},[r]);const w=()=>{a&&r&&d&&_.get(route("teacher.attendance.create"),{grade_id:a,section_id:r,subject_id:d})};return e.jsxs(C,{children:[e.jsx(k,{title:"Attendance Console"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[e.jsx(p,{href:route("teacher.dashboard"),className:"hover:text-blue-600 transition-colors",children:"Dashboard"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-gray-900 border-b border-gray-100 italic",children:"Attendance"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight uppercase",children:["Attendance ",e.jsx("span",{className:"text-blue-600",children:"Console"})]}),e.jsxs("p",{className:"mt-2 text-xs font-bold text-gray-400 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-blue-500"}),u]})]}),e.jsxs(p,{href:route("teacher.attendance.history"),className:"inline-flex items-center px-6 py-3 bg-white border border-gray-100 rounded-2xl text-[10px] font-bold text-gray-400 uppercase tracking-widest hover:text-blue-600 hover:border-blue-100 transition-all shadow-sm",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"View Archive"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 transition-colors hover:border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Active Cohorts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m?.totalClasses??0})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 transition-colors hover:border-green-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-xl text-green-600",children:e.jsx(b,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Today's Progress"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m?.todayCompleted??0,"%"]})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 transition-colors hover:border-amber-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 rounded-xl text-amber-600",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Scheduled Today"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o?.length??0," Classes"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8 shadow-sm",children:[e.jsxs("h2",{className:"text-[11px] font-bold text-gray-900 uppercase tracking-widest mb-8 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"}),"Attendance Session"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Academic Grade"}),e.jsxs("select",{value:a,onChange:s=>f(s.target.value),className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-xl text-[11px] font-bold text-gray-700 transition-all appearance-none cursor-pointer uppercase tracking-tight",children:[e.jsx("option",{value:"",children:"Select Grade"}),j.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Class Section"}),e.jsxs("select",{value:r,onChange:s=>x(s.target.value),disabled:!a||c,className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-xl text-[11px] font-bold text-gray-700 transition-all appearance-none cursor-pointer disabled:opacity-50 uppercase tracking-tight",children:[e.jsx("option",{value:"",children:"Select Section"}),N.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Session Subject"}),e.jsxs("select",{value:d,onChange:s=>l(s.target.value),disabled:!r||c,className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 rounded-xl text-[11px] font-bold text-gray-700 transition-all appearance-none cursor-pointer disabled:opacity-50 uppercase tracking-tight",children:[e.jsx("option",{value:"",children:"Select Subject"}),v.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx("button",{onClick:w,disabled:!a||!r||!d||c,className:"w-full py-5 bg-blue-600 text-white rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-blue-700 disabled:opacity-50 transition-all",children:c?"Processing...":"Launch Session"})]})]})}),e.jsx("div",{className:"lg:col-span-8",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-8 shadow-sm",children:[e.jsxs("h2",{className:"text-[11px] font-bold text-gray-900 uppercase tracking-widest mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Synchronized Activity"]}),e.jsx("span",{className:"text-[9px] font-bold text-gray-300",children:"Synchronized realtime"})]}),o?.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map((s,S)=>e.jsxs("div",{className:"group p-6 rounded-xl border border-gray-50 bg-gray-50/30 hover:bg-white hover:border-blue-100 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"p-2.5 bg-white rounded-lg text-blue-600 border border-gray-100 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:e.jsx($,{className:"w-4 h-4"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[8px] font-bold text-gray-300 uppercase tracking-widest block mb-0.5",children:"Session Window"}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-900",children:[s.start_time," - ",s.end_time]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-tight mb-1 group-hover:text-blue-600 transition-colors",children:[s.grade_name," â€¢ ",s.section_name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white border border-gray-100 rounded-lg text-[9px] font-bold text-gray-400 uppercase tracking-widest group-hover:border-blue-50 transition-colors",children:s.subject_name}),e.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-bold uppercase tracking-widest ${s.status==="Completed"?"bg-green-50 text-green-600":"bg-blue-50 text-blue-600"}`,children:s.status||"Upcoming"})]}),!s.status||s.status!=="Completed"?e.jsxs(p,{href:route("teacher.attendance.create",{section_id:s.section_id,subject_id:s.subject_id}),className:"mt-6 flex items-center justify-center w-full py-3 bg-gray-900 text-white rounded-lg text-[9px] font-bold uppercase tracking-widest hover:bg-blue-600 transition-all",children:["Record Now",e.jsx(L,{className:"w-3 h-3 ml-2"})]}):e.jsx("div",{className:"mt-6 py-3 text-center border border-dashed border-gray-100 rounded-lg text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:"Entries Locked"})]})]},S))}):e.jsxs("div",{className:"py-24 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(b,{className:"w-8 h-8 text-gray-200"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 uppercase tracking-tight",children:"Agenda Clear"}),e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-[0.2em] mt-2",children:"No further sessions scheduled for today"})]})]})})]}),e.jsxs("div",{className:"mt-12 bg-gray-50 border border-gray-100 rounded-2xl p-8 flex flex-col md:flex-row items-center gap-6",children:[e.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-xl shadow-sm",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("div",{className:"text-center md:text-left flex-1",children:e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-relaxed",children:[e.jsx("span",{className:"text-gray-900",children:"Finalization advisory:"})," Attendance records are synchronized with permanent academic logs. Please ensure precision before committing records to the system."]})})]})]})]})}export{J as default};
