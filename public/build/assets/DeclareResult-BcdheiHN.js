import{j as e}from"./app-CDqUTUpB.js";import{T as ae}from"./TeacherLayout-Bp5es9_r.js";import{r as o,b as le,H as ie,L as I}from"./inertia-Clk-cdek.js";import{U as $,I as ne,H as de,a6 as P,m as V,x as ce,z as oe,l as xe}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-BICl3Aqo.js";import"./ErrorBoundary-BtlYm-4L.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";const m=(...p)=>p.filter(Boolean).join(" ");function _e({grades:p=[],currentSemester:R=1,initialStep:H=1,initialGradeId:h=null,initialSectionId:w=null,initialSubjectId:O=null,initialStudentId:F=null,initialShowClosed:q=!1}){const[i,b]=o.useState(H),[pe,N]=o.useState(!1),[d,D]=o.useState(()=>!h||!p?null:p.find(t=>t.id===parseInt(h))||null),[g,k]=o.useState(()=>p&&p.find(s=>s.id===parseInt(h))?.sections?.find(s=>s.id===parseInt(w))||null),[v,E]=o.useState([]),[S,M]=o.useState(null),[_,U]=o.useState([]),[u,G]=o.useState([]),[A,J]=o.useState({}),[K,ge]=o.useState(q),[x,y]=o.useState([]),[Q,C]=o.useState({}),{data:j,setData:f,post:W,processing:B,errors:ue}=le({grade_id:h||"",section_id:w||"",subject_id:O||"",semester:R||1,student_ids:F?[parseInt(F)]:[],marks:{},is_finalized:!1});o.useEffect(()=>{if(h&&w){const t=p.find(s=>s.id===parseInt(h));if(t){const s=t.sections?.find(r=>r.id===parseInt(w));s&&(D(t),k(s),f(r=>({...r,grade_id:t.id,section_id:s.id})),L(t.id,s.id),T(t.id,s.id))}}},[]);const L=async(t,s)=>{N(!0);try{const l=await(await fetch(`/teacher/declare-result/students?grade_id=${t}&section_id=${s}`)).json();return U(l),y(l.map(n=>n.id)),l}catch(r){return console.error("Error fetching students:",r),[]}finally{N(!1)}},T=async(t,s)=>{try{const l=await(await fetch(`/teacher/declare-result/subjects?grade_id=${t}&section_id=${s}`)).json();return E(l),l}catch(r){return console.error("Error fetching subjects:",r),[]}},X=async t=>{N(!0);try{const r=await(await fetch(`/teacher/declare-result/assessments?grade_id=${d.id}&section_id=${g.id}&subject_id=${t}&show_closed=${K?1:0}`)).json();G(r);const l=[...new Set(r.map(a=>a.semester))],n={};for(const a of l)if(a)try{const re=await(await fetch(`/teacher/declare-result/check-status?grade_id=${d.id}&semester=${a}`)).json();n[a]=re.is_open}catch{n[a]=!0}if(J(n),x.length>0){const c=await(await fetch(`/teacher/declare-result/existing-marks?grade_id=${d.id}&section_id=${g.id}&subject_id=${t}&student_ids=${x.join(",")}`)).json();c&&Object.keys(c).length>0?(f("marks",c),C(c)):(f("marks",{}),C({}))}}catch(s){console.error("Error fetching assessments:",s)}finally{N(!1)}},Y=()=>{if(x.length===0){alert("Please select at least one student.");return}f("student_ids",x),b(2)},z=async t=>{M(t),f("subject_id",t.id),await X(t.id),b(3)},Z=(t,s,r)=>{const n=u.find(c=>c.id===s)?.total_marks||100;let a=r===""?"":parseFloat(r);a!==""&&a>n&&(a=n),a!==""&&a<0&&(a=0),f("marks",{...j.marks,[t]:{...j.marks[t]||{},[s]:a}})},ee=t=>{t.preventDefault(),W(route("teacher.declare-result.store"),{onSuccess:()=>{C(j.marks),alert("Results saved successfully.")},preserveScroll:!0})},te=()=>{switch(i){case 1:return"Enrollment Verification";case 2:return"Subject Binding";case 3:return"Data Entry";default:return""}},se=()=>{i>1&&b(i-1)};return e.jsxs(ae,{children:[e.jsx(ie,{title:"Declare Result | Teacher Portal"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 min-h-screen",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[10px] font-bold uppercase tracking-widest text-gray-400",children:[e.jsx(I,{href:route("teacher.dashboard"),className:"hover:text-blue-600 transition-colors",children:"Dashboard"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-gray-900 border-b border-gray-100 uppercase tracking-tighter",children:"Declare Result"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight uppercase",children:["Result ",e.jsx("span",{className:"text-blue-600",children:"Declaration"})]}),e.jsx("p",{className:"mt-2 text-xs font-bold text-gray-400 uppercase tracking-widest",children:g?`Phase 0${i} &bull; ${te()}`:"Identify Cohort to Begin"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[i>1&&e.jsx("button",{onClick:se,className:"px-6 py-3 bg-white border border-gray-100 text-gray-400 rounded-xl hover:text-blue-600 text-[10px] font-bold uppercase tracking-widest transition-all shadow-sm",children:"← Go Back"}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border border-gray-100 rounded-xl text-[10px] font-bold text-gray-400 uppercase tracking-widest flex items-center gap-2 italic",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Semester ",R]})]})]})]}),e.jsx("div",{className:"flex items-center justify-between gap-1 mb-4 max-w-2xl mx-auto",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[e.jsxs("div",{className:m("flex items-center gap-1.5 px-2 py-1.5 rounded-md border transition-all duration-300 w-full",i===t?"bg-gradient-to-r from-blue-600 to-indigo-600 border-blue-700":i>t?"bg-gradient-to-r from-green-500 to-emerald-500 border-green-600":"bg-white border-gray-300"),children:[e.jsx("div",{className:m("w-5 h-5 rounded flex items-center justify-center text-[10px] font-black flex-shrink-0",i>=t?"bg-white text-blue-600":"bg-gray-200 text-gray-500"),children:i>t?"✓":`0${t}`}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsxs("span",{className:m("text-[7px] font-bold uppercase tracking-wide leading-none",i>=t?"text-blue-100":"text-gray-500"),children:["Step ",t]}),e.jsx("span",{className:m("text-[9px] font-black uppercase tracking-tight truncate leading-none mt-0.5",i>=t?"text-white":"text-gray-700"),children:t===1?"Students":t===2?"Subject":"Marks"})]})]}),t<3&&e.jsx($,{className:m("w-3 h-3 flex-shrink-0",i>t?"text-green-500":i===t?"text-blue-500":"text-gray-300")})]},t))}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 mb-8 shadow-sm",children:[e.jsxs("h3",{className:"text-xs font-bold text-gray-900 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),"Class Configuration"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Grade Level"}),e.jsxs("select",{value:d?.id||"",onChange:t=>{const s=p.find(r=>r.id===parseInt(t.target.value));D(s),k(null),E([]),M(null),b(1)},className:"w-full text-sm font-bold text-gray-700 bg-gray-50 border border-gray-100 rounded-xl px-3 py-2.5 focus:border-blue-500 focus:ring-0 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Grade"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Section"}),e.jsxs("select",{value:g?.id||"",onChange:t=>{const s=d?.sections?.find(r=>r.id===parseInt(t.target.value));k(s),d&&s&&(L(d.id,s.id),T(d.id,s.id)),b(1)},disabled:!d,className:"w-full text-sm font-bold text-gray-700 bg-gray-50 border border-gray-100 rounded-xl px-3 py-2.5 focus:border-blue-500 focus:ring-0 disabled:opacity-50 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Section"}),d?.sections?.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Subject"}),e.jsxs("select",{value:S?.id||"",onChange:t=>{const s=v.find(r=>r.id===parseInt(t.target.value));z(s)},disabled:!g||v.length===0,className:"w-full text-sm font-bold text-gray-700 bg-gray-50 border border-gray-100 rounded-xl px-3 py-2.5 focus:border-blue-500 focus:ring-0 disabled:opacity-50 cursor-pointer",children:[e.jsx("option",{value:"",children:"Select Subject"}),v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>window.location.href=route("teacher.declare-result.index"),className:"w-full py-2.5 bg-gray-50 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl text-[10px] font-bold uppercase tracking-widest border border-gray-100 transition-colors",children:"Reset Filters"})})]})]}),g&&i===1&&e.jsxs("div",{className:"bg-white rounded-[2rem] border border-gray-100 p-10 shadow-sm animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8 mb-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 italic",children:"Phase 01: Enrollment"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 uppercase tracking-tight",children:["Verify ",e.jsx("span",{className:"text-blue-600",children:"Students"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsx("span",{className:"px-4 py-1.5 bg-gray-50 border border-gray-100 rounded-xl text-[9px] font-bold text-gray-400 uppercase tracking-widest italic",children:d?.name}),e.jsxs("span",{className:"px-4 py-1.5 bg-gray-50 border border-gray-100 rounded-xl text-[9px] font-bold text-gray-400 uppercase tracking-widest italic",children:["Section ",g?.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>y(_.map(t=>t.id)),className:"px-5 py-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-600 hover:text-white transition-all text-[10px] font-bold uppercase tracking-widest",children:"Select All"}),e.jsx("button",{onClick:()=>y([]),className:"px-5 py-3 bg-gray-50 text-gray-400 rounded-xl hover:bg-gray-100 hover:text-gray-600 transition-all text-[10px] font-bold uppercase tracking-widest",children:"Clear"})]})]}),e.jsx("div",{className:"overflow-hidden border border-gray-100 rounded-3xl",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5 text-left text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Include"}),e.jsx("th",{className:"px-8 py-5 text-left text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Student Core Identity"}),e.jsx("th",{className:"px-8 py-5 text-left text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Universal ID"}),e.jsx("th",{className:"px-8 py-5 text-left text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:"Gender"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:_.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsx("input",{type:"checkbox",checked:x.includes(t.id),onChange:()=>{x.includes(t.id)?y(x.filter(s=>s!==t.id)):y([...x,t.id])},className:"w-5 h-5 text-blue-600 border-gray-200 rounded-lg focus:ring-blue-500/20 transition-all cursor-pointer"})}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 border border-gray-100 flex items-center justify-center font-bold text-gray-400 group-hover:bg-blue-600 group-hover:text-white transition-all uppercase text-xs",children:t.user?.name?.charAt(0)}),e.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase tracking-tight",children:t.user?.name})]})}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-[11px] font-bold text-gray-500 uppercase tracking-widest",children:t.student_id}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 bg-gray-50 rounded-lg text-[9px] font-bold uppercase tracking-widest text-gray-400 group-hover:text-gray-600 transition-colors italic border border-gray-100/50",children:t.gender})})]},t.id))})]})}),e.jsx("div",{className:"mt-10 flex justify-end",children:e.jsxs("button",{onClick:Y,className:"px-10 py-5 bg-blue-600 text-white rounded-[1.25rem] hover:bg-blue-700 text-[11px] font-bold uppercase tracking-[0.2em] transition-all shadow-xl shadow-blue-200 flex items-center gap-3 group",children:["Continue To Subject Binding",e.jsx($,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]}),i===2&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[e.jsx("h2",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 italic",children:"Phase 02: Binding"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 uppercase tracking-tight",children:["Select ",e.jsx("span",{className:"text-blue-600",children:"Assigned Subject"})]}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-2",children:[x.length," Students Selected for Deployment"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map(t=>e.jsxs("button",{onClick:()=>z(t),className:"group relative p-8 rounded-[2rem] bg-white border border-gray-100 transition-all duration-300 hover:border-blue-600 hover:shadow-2xl hover:shadow-blue-50 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx($,{className:"w-5 h-5 text-blue-600"})}),e.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-2xl flex items-center justify-center mb-6 group-hover:bg-blue-600 transition-colors",children:e.jsx(ne,{className:"w-6 h-6 text-gray-400 group-hover:text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 uppercase tracking-tight mb-2 group-hover:text-blue-600 transition-colors",children:t.name}),e.jsx("span",{className:"px-3 py-1 bg-gray-50 rounded-lg text-[9px] font-bold text-gray-400 uppercase tracking-widest italic group-hover:bg-blue-50 group-hover:text-blue-600/60 transition-colors",children:t.code})]},t.id))})]}),i===3&&e.jsxs("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"p-10 border-b border-gray-50 bg-gray-50/20",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 italic",children:"Phase 03: Data Entry"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 uppercase tracking-tight",children:["Bulk Marks ",e.jsx("span",{className:"text-blue-600",children:"Sync"})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[e.jsx("span",{className:"px-4 py-1.5 bg-white border border-gray-100 rounded-xl text-[9px] font-bold text-blue-600 uppercase tracking-widest italic shadow-sm",children:S?.name}),e.jsxs("span",{className:"px-4 py-1.5 bg-white border border-gray-100 rounded-xl text-[9px] font-bold text-gray-400 uppercase tracking-widest italic shadow-sm",children:[d?.name," • Section ",g?.name]})]})]}),e.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-2xl flex items-center gap-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(de,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"Cohort"}),e.jsxs("p",{className:"text-[11px] font-black text-gray-900 uppercase",children:[x.length," Enrolled"]})]})]}),e.jsx("div",{className:"w-px h-8 bg-gray-100"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[8px] font-bold text-gray-400 uppercase tracking-widest leading-none",children:"Activities"}),e.jsxs("p",{className:"text-[11px] font-black text-gray-900 uppercase",children:[u.length," Tasks"]})]})]})]})]})}),u.length===0?e.jsxs("div",{className:"p-24 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 text-gray-200 rounded-[2rem] flex items-center justify-center mx-auto mb-8 animate-bounce",children:e.jsx(V,{className:"w-10 h-10"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 uppercase tracking-tight mb-2",children:"No Assessments Found"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] max-w-xs mx-auto mb-10 leading-loose",children:"Target subject requires configured assessment schemes before mark injection is possible."}),e.jsxs(I,{href:route("teacher.assessments-simple.create",{grade_id:d?.id,subject_id:S?.id,section_id:g?.id}),className:"inline-flex items-center px-8 py-4 bg-gray-900 text-white rounded-2xl text-[10px] font-bold uppercase tracking-widest hover:bg-blue-600 transition-all shadow-xl shadow-gray-100",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Configure Assessment Structure"]})]}):e.jsxs("form",{onSubmit:ee,children:[e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[e.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-gray-400 uppercase tracking-widest sticky left-0 bg-white/80 backdrop-blur-md z-10 border-r border-gray-100",children:"Student Identity"}),u.map(t=>e.jsx("th",{className:"px-8 py-6 min-w-[180px]",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("span",{className:"text-[11px] font-black text-gray-900 uppercase tracking-tight truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-[8px] font-black uppercase tracking-widest border border-blue-100/50",children:["Max: ",t.total_marks||t.max_score]}),A[t.semester]===!1&&e.jsx("span",{className:"px-2 py-0.5 bg-red-50 text-red-600 rounded text-[8px] font-black uppercase tracking-widest italic animate-pulse",children:"LOCKED"})]})]})},t.id)),e.jsx("th",{className:"px-10 py-6 text-[10px] font-black text-gray-400 uppercase tracking-widest italic text-right bg-white/80 backdrop-blur-md sticky right-0 z-10 border-l border-gray-100",children:"Synthesis"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:_.filter(t=>x.includes(t.id)).map(t=>e.jsxs("tr",{className:"hover:bg-blue-50/10 transition-colors group",children:[e.jsx("td",{className:"px-10 py-6 sticky left-0 bg-white z-10 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.02)] border-r border-gray-50 group-hover:bg-blue-50/30 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-50 flex items-center justify-center font-bold text-gray-400 group-hover:bg-blue-600 group-hover:text-white transition-all uppercase text-xs",children:t.user?.name?.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 uppercase tracking-tight text-sm leading-none mb-1",children:t.user?.name}),e.jsx("div",{className:"text-[9px] font-black text-gray-300 uppercase tracking-widest leading-none",children:t.student_id})]})]})}),u.map(s=>{const r=A[s.semester]===!1,l=Q[t.id]?.[s.id]!==void 0;return e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"relative max-w-[120px]",children:[e.jsx("input",{type:"number",min:"0",max:s.total_marks||s.max_score,step:"0.5",value:j.marks[t.id]?.[s.id]||"",onChange:n=>Z(t.id,s.id,n.target.value),className:m("w-full h-12 px-4 rounded-xl font-bold text-sm tracking-tight transition-all text-center",r||l?"bg-gray-50 text-gray-300 border-gray-100 border italic cursor-not-allowed":"bg-white border border-gray-100 focus:border-blue-600 focus:ring-4 focus:ring-blue-500/5 text-gray-900 placeholder-gray-100"),placeholder:"0.0",disabled:r||l}),l&&e.jsx("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2",children:e.jsx(oe,{className:"w-5 h-5 text-emerald-500 bg-white rounded-full p-0.5"})})]})},s.id)}),e.jsx("td",{className:"px-10 py-6 text-right bg-white group-hover:bg-blue-50/30 sticky right-0 z-10 border-l border-gray-100 transition-colors",children:(()=>{const s=j.marks[t.id]||{},r=u.reduce((a,c)=>a+(Number(s[c.id])||0),0),l=u.reduce((a,c)=>a+(Number(c.total_marks||c.max_score)||0),0),n=l>0?r/l*100:0;return e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-base font-black text-gray-900 tracking-tighter leading-none mb-1",children:[r," ",e.jsxs("span",{className:"text-[10px] text-gray-300 font-bold uppercase ml-0.5 italic",children:["/ ",l]})]}),e.jsx("div",{className:"w-16 h-1 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:m("h-full rounded-full transition-all duration-500",n>75?"bg-emerald-500":n>40?"bg-blue-500":"bg-red-500"),style:{width:`${n}%`}})})]})})()})]},t.id))})]})}),e.jsxs("div",{className:"p-10 bg-gray-50/50 border-t border-gray-50 flex flex-col md:flex-row items-center justify-between gap-10",children:[e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl border border-amber-100",children:e.jsx(V,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-900 uppercase tracking-widest mb-1",children:"Integrity Validation"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase leading-relaxed tracking-wider italic",children:"Ensure all student scores are entered correctly. Submitting values will commit them to the academic ledger for review."})]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{type:"button",onClick:()=>b(2),className:"px-8 py-4 bg-white border border-gray-100 text-gray-400 hover:text-blue-600 rounded-2xl text-[10px] font-bold uppercase tracking-widest transition-all shadow-sm",children:"← Subjects"}),e.jsxs("button",{type:"submit",disabled:B,className:"px-10 py-5 bg-blue-600 text-white rounded-[1.25rem] hover:bg-blue-700 disabled:opacity-50 text-[11px] font-bold uppercase tracking-[0.2em] transition-all shadow-xl shadow-blue-200 flex items-center gap-3 group",children:[B?e.jsx(xe,{className:"w-5 h-5 animate-spin"}):e.jsx(P,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),"Commit Marks To Ledger"]})]})]})]})]})]})]})}export{_e as default};
