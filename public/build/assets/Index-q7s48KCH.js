import{j as e}from"./app-B2S3Wz0d.js";import{u as T,r as c,H as L,L as g,d as F}from"./inertia-Clk-cdek.js";import{D as G}from"./DirectorLayout-DmoW-rYy.js";import{R as I}from"./ReportsDashboard-Tqg-LYLL.js";import{x as M,J as Y,G as E,g as b,L as H,M as k,C as u}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-C9OBh2Gh.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";const P=(f,j)=>{let l;return function(...s){const o=()=>{clearTimeout(l),f(...s)};clearTimeout(l),l=setTimeout(o,j)}};function Z({auth:f,templates:j,grades:l,academic_years:x,students:s,filters:o}){const{flash:y}=T().props,S=()=>new URLSearchParams(window.location.search).get("tab")==="reports"?"reports":"transcripts",[a,C]=c.useState(S()),[m,w]=c.useState(o.search||""),[t,v]=c.useState(o.grade_id||""),[i,p]=c.useState(o.section_id||""),[d,N]=c.useState(o.academic_year_id||""),h=r=>{C(r);const n=new URL(window.location);n.searchParams.set("tab",r),window.history.pushState({},"",n)},_=c.useCallback(P((r,n,A,D)=>{F.get(route("director.documents.index"),{search:r,grade_id:n,section_id:A,academic_year_id:D,tab:a==="reports"?"reports":a},{preserveState:!0,preserveScroll:!0,replace:!0})},300),[a]);c.useEffect(()=>{(a==="transcripts"||a==="cards")&&_(m,t,i,d)},[m,t,i,d]);const $=r=>{window.location.href=route("director.reports.export.transcript",{student_id:r,academic_year_id:d})},R=()=>{if(!i){alert("Please select a section first.");return}window.location.href=route("director.reports.export.section-cards",{section_id:i,academic_year_id:d})};return e.jsxs(G,{children:[e.jsx(L,{title:"Director Workspace"}),e.jsx("div",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",style:{color:"#0F172A"},children:"ðŸ“‚ Director Workspace"}),e.jsx("p",{className:"text-gray-500 mt-1 text-xs",children:"Manage student transcripts and generate administrative reports."})]}),a==="transcripts"&&e.jsxs(g,{href:route("director.documents.create"),className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black transition-all shadow-lg hover:shadow-xl",children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Manage Layouts"]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>h("transcripts"),className:`${a==="transcripts"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-semibold text-sm flex items-center transition-all duration-200`,children:[e.jsx(Y,{className:`w-5 h-5 mr-2 ${a==="transcripts"?"text-black":"text-gray-400"}`}),"Official Transcripts"]}),e.jsxs("button",{onClick:()=>h("reports"),className:`${a==="reports"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-semibold text-sm flex items-center transition-all duration-200`,children:[e.jsx(E,{className:`w-5 h-5 mr-2 ${a==="reports"?"text-black":"text-gray-400"}`}),"Analytics & Reports"]}),e.jsxs("button",{onClick:()=>h("cards"),className:`${a==="cards"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-semibold text-sm flex items-center transition-all duration-200`,children:[e.jsx(b,{className:`w-5 h-5 mr-2 ${a==="cards"?"text-black":"text-gray-400"}`}),"Student Card"]})]})})}),y.success&&e.jsxs("div",{className:"mb-8 bg-green-50 border border-green-100 text-green-800 px-4 py-4 rounded-xl flex items-center shadow-sm",role:"alert",children:[e.jsx(H,{className:"w-6 h-6 mr-3 text-green-600"}),e.jsx("span",{className:"font-medium",children:y.success})]}),e.jsx("div",{className:"min-h-[400px]",children:a==="transcripts"?e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Search Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Name or Student ID...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:m,onChange:r=>w(r.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Grade Level"}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:t,onChange:r=>{v(r.target.value),p("")},children:[e.jsx("option",{value:"",children:"All Grades"}),l.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Section"}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:i,onChange:r=>p(r.target.value),disabled:!t,children:[e.jsx("option",{value:"",children:"All Sections"}),t&&l.find(r=>r.id==t)?.sections.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Academic Year"}),e.jsx("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:d,onChange:r=>N(r.target.value),children:x.map(r=>e.jsxs("option",{value:r.id,children:[r.name," ",r.is_current?"(Current)":""]},r.id))})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Student"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-widest",children:"ID"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Grade"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:s.data.length>0?s.data.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-3",children:e.jsx(b,{className:"w-6 h-6 text-gray-400"})}),e.jsx("div",{className:"font-bold text-gray-900",children:r.user.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.student_id}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-xs font-bold",children:r.grade?.name})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("button",{onClick:()=>$(r.id),className:"inline-flex items-center px-4 py-2 bg-black text-white rounded-xl text-xs font-bold hover:bg-gray-800 transition-all shadow-md hover:shadow-lg",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Download Transcript"]})})]},r.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-20 text-center",children:e.jsx("div",{className:"text-gray-400 italic",children:"No students found matching your search."})})})})]})}),e.jsx("div",{className:"mt-8",children:s.links&&s.links.length>3&&e.jsx("div",{className:"flex justify-center",children:s.links.map((r,n)=>e.jsx(g,{href:r.url,className:`px-4 py-2 mx-1 rounded-xl text-sm font-bold transition-all ${r.active?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-100 border border-gray-100"} ${!r.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:r.label}},n))})})]}):a==="reports"?e.jsx("div",{className:"animate-fade-in-up",children:e.jsx(I,{grades:l,academic_years:x})}):e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Search Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Name or Student ID...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:m,onChange:r=>w(r.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Grade Level"}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:t,onChange:r=>{v(r.target.value),p("")},children:[e.jsx("option",{value:"",children:"All Grades"}),l.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Section"}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:i,onChange:r=>p(r.target.value),disabled:!t,children:[e.jsx("option",{value:"",children:"All Sections"}),t&&l.find(r=>r.id==t)?.sections.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Academic Year"}),e.jsx("select",{className:"w-full px-4 py-2.5 bg-gray-50 border-transparent rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent transition-all",value:d,onChange:r=>N(r.target.value),children:x.map(r=>e.jsxs("option",{value:r.id,children:[r.name," ",r.is_current?"(Current)":""]},r.id))})]})]}),i&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-50 flex justify-end",children:e.jsxs("button",{onClick:R,className:"inline-flex items-center px-6 py-3 bg-slate-800 text-white rounded-xl text-sm font-bold hover:bg-slate-900 transition-all shadow-lg gap-2",style:{backgroundColor:"#1E293B"},children:[e.jsx(u,{className:"w-5 h-5"}),"Download Bulk Report Cards for Section"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.data.length>0?s.data.map(r=>e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-black group-hover:text-white transition-colors",children:e.jsx(b,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 line-clamp-1",children:r.user.name}),e.jsx("p",{className:"text-xs text-gray-500 font-mono",children:r.student_id})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs mb-6",children:[e.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-lg font-bold",children:r.grade?.name}),e.jsx("span",{className:"text-gray-400 italic",children:"Academic Year Card"})]}),e.jsxs("button",{onClick:()=>window.location.href=route("director.reports.export.student-card",{student_id:r.id}),className:"w-full py-3 bg-gray-50 hover:bg-black hover:text-white text-gray-900 rounded-xl text-xs font-bold transition-all border border-gray-100 flex items-center justify-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Download Student Card"]})]})},r.id)):e.jsx("div",{className:"col-span-full py-20 bg-white rounded-2xl border border-gray-100 text-center text-gray-400 italic",children:"No students found for card generation."})}),e.jsx("div",{className:"mt-8",children:s.links&&s.links.length>3&&e.jsx("div",{className:"flex justify-center",children:s.links.map((r,n)=>e.jsx(g,{href:r.url,className:`px-4 py-2 mx-1 rounded-xl text-sm font-bold transition-all ${r.active?"bg-black text-white shadow-lg":"bg-white text-gray-500 hover:bg-gray-100 border border-gray-100"} ${!r.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:r.label}},n))})})]})})]})})]})}export{Z as default};
