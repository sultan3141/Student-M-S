import{j as e}from"./app-CIB1OmSr.js";import{T as u}from"./TeacherLayout-DmXOOGtr.js";import{b,H as f}from"./inertia-Clk-cdek.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-CccGOD2N.js";import"./ErrorBoundary-Dc57NiXK.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function R({student:l,subject:i,assessments:r,marks:n,grade:o,section:x}){const{data:t,setData:m,post:h,processing:c,errors:d}=b({marks:n||{}}),p=(a,s)=>{m("marks",{...t.marks,[a]:s})},g=a=>{a.preventDefault(),h(route("teacher.students.update-result",{student:l.id,subject:i.id}),{onSuccess:()=>{}})};return e.jsxs(u,{children:[e.jsx(f,{title:`Edit Result - ${l.user.name}`}),e.jsx("div",{className:"py-8 bg-gray-50/50 min-h-screen",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-[2rem] shadow-xl shadow-gray-200/50 border border-gray-100 p-8 mb-8 group",children:[e.jsx("div",{className:"absolute top-0 right-0 -m-8 w-64 h-64 bg-blue-600/5 rounded-full blur-3xl group-hover:bg-blue-600/10 transition-colors duration-500"}),e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:[e.jsx(Link,{href:route("teacher.students.manage-results"),className:"hover:text-blue-600 transition-colors",children:"Manage Results"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-gray-900",children:"Edit Marks"})]}),e.jsxs("h1",{className:"text-3xl font-black text-gray-900 tracking-tight leading-none uppercase",children:["EDIT STUDENT ",e.jsx("span",{className:"text-blue-600",children:"RESULT"})]}),e.jsxs("p",{className:"mt-3 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[l.user.name," • ",o.name," ",x.name," • ",i.name]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mark Entry Progress"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-48 h-3 bg-blue-50 rounded-full overflow-hidden border border-blue-100/50",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full transition-all duration-1000",style:{width:`${Object.keys(t.marks).length/r.length*100}%`}})}),e.jsxs("span",{className:"text-lg font-black text-blue-600 tabular-nums",children:[Math.round(Object.keys(t.marks).length/r.length*100),"%"]})]})]})]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(a=>e.jsxs("div",{className:`relative group bg-white rounded-[2rem] p-8 border border-gray-100 shadow-xl shadow-gray-200/40 transition-all duration-300 hover:shadow-2xl hover:translate-y-[-4px] 
                                        ${a.is_open?"":"opacity-75 grayscale-[0.5]"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600 group-hover:rotate-6 transition-transform",children:e.jsx(AcademicCapIcon,{className:"w-6 h-6"})}),!a.is_open&&e.jsx("span",{className:"px-3 py-1 bg-red-50 text-red-600 text-[8px] font-black uppercase tracking-widest rounded-full",children:"Locked"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 uppercase tracking-tight mb-1",children:a.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:a.type}),e.jsx("span",{className:"w-1 h-1 bg-gray-200 rounded-full"}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Max: ",a.max_score]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",id:`mark-${a.id}`,name:`mark-${a.id}`,min:"0",max:a.max_score,step:"0.5",disabled:!a.is_open,value:t.marks[a.id]!==void 0?t.marks[a.id]:"",onChange:s=>p(a.id,s.target.value),className:`block w-full px-6 py-4 rounded-2xl text-lg font-black tracking-tight transition-all
                                                ${a.is_open?"bg-white border-gray-100 focus:bg-white focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 border-2":"bg-gray-50 text-gray-400 border-gray-100 cursor-not-allowed"}
                                            `,placeholder:a.is_open?`ENTER MARKS / ${a.max_score}`:"LOCKED"}),d[`marks.${a.id}`]&&e.jsx("p",{className:"mt-3 text-[10px] font-black text-red-600 uppercase tracking-widest",children:d[`marks.${a.id}`]})]})]},a.id))}),r.length===0&&e.jsxs("div",{className:"bg-white rounded-[2rem] p-12 text-center border border-dashed border-gray-200",children:[e.jsx(AcademicCapIcon,{className:"w-16 h-16 text-gray-200 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-black text-gray-400 uppercase tracking-[0.2em]",children:"No Assessments Available"})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-[2rem] p-8 border border-gray-100 shadow-xl shadow-gray-200/50",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] hover:text-gray-900 transition-colors",children:"Cancel Changes"}),e.jsx("button",{type:"submit",disabled:c||r.length===0,className:"inline-flex items-center px-10 py-4 bg-gradient-to-r from-blue-600 to-indigo-700 text-white text-xs font-black uppercase tracking-widest rounded-3xl hover:translate-y-[-2px] hover:shadow-2xl hover:shadow-blue-200 transition-all disabled:opacity-50 disabled:translate-y-0 disabled:shadow-none",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"SYCHRONIZING..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ClipboardDocumentCheckIcon,{className:"w-4 h-4 mr-2"}),"Save All Changes"]})})]})]})]})})]})}export{R as default};
