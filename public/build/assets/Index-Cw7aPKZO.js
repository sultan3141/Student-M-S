import{j as e}from"./app-B2S3Wz0d.js";import{r as p,L as l,d as n}from"./inertia-Clk-cdek.js";import{D as y}from"./DirectorLayout-DmoW-rYy.js";import{C as f,D as b}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-C9OBh2Gh.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function L({logs:r,users:c,actions:o,filters:x}){const[s,m]=p.useState(x),a=(t,d)=>{const i={...s,[t]:d};m(i),n.get(route("director.audit.index"),i)},g=()=>{n.get(route("director.audit.export"),s)},h=t=>{switch(t){case"created":return"bg-green-100 text-green-800";case"updated":return"bg-blue-100 text-blue-800";case"deleted":return"bg-red-100 text-red-800";case"accessed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=t=>{switch(t){case"created":return"âœ¨";case"updated":return"âœï¸";case"deleted":return"ðŸ—‘ï¸";case"accessed":return"ðŸ‘ï¸";default:return"ðŸ“"}};return e.jsx(y,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Audit Log"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track all Director actions and changes"})]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),"Export CSV"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(b,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User"}),e.jsxs("select",{value:s.user_id||"",onChange:t=>a("user_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Users"}),c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),e.jsxs("select",{value:s.action||"",onChange:t=>a("action",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Actions"}),o.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",value:s.date_from||"",onChange:t=>a("date_from",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:s.date_to||"",onChange:t=>a("date_to",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"IP Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(t.created_at).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:t.user?.name||"Unknown"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(t.action)}`,children:[u(t.action)," ",t.action]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:t.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:t.ip_address}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx(l,{href:route("director.audit.show",t.id),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"View"})})]},t.id))})]}),r.links&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-center space-x-2",children:r.links.map((t,d)=>e.jsx(l,{href:t.url||"#",className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t.active?"bg-indigo-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,dangerouslySetInnerHTML:{__html:t.label}},d))}),r.data.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No audit logs found"})})]})]})})}export{L as default};
