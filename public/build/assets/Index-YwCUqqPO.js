import{j as e}from"./app-B2S3Wz0d.js";import{D as m}from"./DirectorLayout-DmoW-rYy.js";import{b as f,r as N,H as u}from"./inertia-Clk-cdek.js";import{V as h,W as g}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-C9OBh2Gh.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function A({academicYear:l,matrix:t,error:a}){const{post:d,processing:r}=f({}),[n,i]=N.useState(null);if(a)return e.jsx(m,{children:e.jsx("div",{className:"p-8 text-center text-red-600 font-semibold bg-red-50 rounded-lg",children:a})});const c=(s,o,p)=>{const j=p==="open"?"closed":"open";i(`${s}-${o}`),d(route("director.semesters.update"),{grade_id:s,semester:o,status:j},{preserveScroll:!0,onFinish:()=>i(null)})};return e.jsxs(m,{children:[e.jsx(u,{title:"Semester Control"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Semester Status Control"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Academic Year: ",e.jsx("span",{className:"font-semibold text-blue-600",children:l.name})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-400 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(h,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-bold text-green-900",children:"OPEN ACCESS"}),e.jsx("p",{className:"mt-1 text-xs text-green-700",children:"Teachers can create and edit assessments. Students cannot view results yet."})]})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-400 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(g,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-bold text-red-900",children:"CLOSED"}),e.jsx("p",{className:"mt-1 text-xs text-red-700",children:"All assessments locked. Teachers can only view. Students can view their results."})]})]})})]})]}),e.jsx("div",{className:"bg-white shadow-xl ring-1 ring-gray-900/5 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"py-4 pl-6 pr-3 text-left text-sm font-bold text-gray-900",children:"Grade"}),e.jsx("th",{scope:"col",className:"px-3 py-4 text-center text-sm font-bold text-gray-900",children:"Semester 1"}),e.jsx("th",{scope:"col",className:"px-3 py-4 text-center text-sm font-bold text-gray-900",children:"Semester 2"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"whitespace-nowrap py-5 pl-6 pr-3 text-sm font-semibold text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:s.grade.level})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:s.grade.name})})]})}),e.jsx("td",{className:"px-3 py-5",children:e.jsx(x,{status:s.semester_1.status,stats:s.semester_1.stats,isUpdating:n===`${s.grade.id}-1`,onToggle:()=>c(s.grade.id,1,s.semester_1.status)})}),e.jsx("td",{className:"px-3 py-5",children:e.jsx(x,{status:s.semester_2.status,stats:s.semester_2.stats,isUpdating:n===`${s.grade.id}-2`,onToggle:()=>c(s.grade.id,2,s.semester_2.status)})})]},s.grade.id))})]})})]})]})}function x({status:l,stats:t,isUpdating:a,onToggle:d}){const r=l==="open";return e.jsx("div",{className:"flex flex-col items-center space-y-3",children:e.jsxs("div",{className:`
                w-full max-w-xs rounded-xl p-4 transition-all duration-300 shadow-lg
                ${r?"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-400 ring-2 ring-green-200":"bg-gradient-to-br from-red-50 to-rose-50 border-2 border-red-400 ring-2 ring-red-200"}
            `,children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("button",{onClick:d,disabled:a,className:`
                            group relative inline-flex items-center px-6 py-3 rounded-xl font-bold text-sm transition-all duration-200 shadow-md
                            ${r?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white":"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white"}
                            ${a?"opacity-50 cursor-wait":"cursor-pointer hover:shadow-xl hover:scale-105 transform"}
                        `,children:r?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-5 h-5 mr-2 animate-pulse"}),e.jsx("span",{className:"tracking-wide",children:"OPEN ACCESS"})]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"tracking-wide",children:"CLOSED"})]})})}),e.jsx("div",{className:`
                    text-center text-xs font-semibold mb-3 px-2 py-1 rounded-lg
                    ${r?"text-green-800 bg-green-100":"text-red-800 bg-red-100"}
                `,children:r?e.jsx("span",{children:"âœ“ Teachers can create & edit assessments"}):e.jsx("span",{children:"ðŸ”’ All assessments locked - View only"})}),t&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:"Students:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:t.students})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:"Assessments:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:t.assessments})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:"Marks:"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[t.marks_entered,"/",t.total_possible]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-gray-500",children:"Complete:"}),e.jsxs("span",{className:`font-bold ${t.completion_rate>=80?"text-green-600":t.completion_rate>=50?"text-yellow-600":"text-red-600"}`,children:[t.completion_rate,"%"]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${t.completion_rate>=80?"bg-gradient-to-r from-green-500 to-emerald-600":t.completion_rate>=50?"bg-gradient-to-r from-yellow-500 to-amber-600":"bg-gradient-to-r from-red-500 to-rose-600"}`,style:{width:`${t.completion_rate}%`}})})})]})]})})}export{A as default};
