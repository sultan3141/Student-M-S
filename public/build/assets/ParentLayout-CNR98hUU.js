import{j as e}from"./app-PKZgXky8.js";import{b as j,u as v,r as u,L as m}from"./inertia-Clk-cdek.js";import{u as N,B as w,a2 as y,a3 as k,H as F,a4 as D,a5 as $,a6 as _,a7 as R,n as C,N as E,I as P,e as S,f as z,F as A,g as I,h as M,i as L,j as B}from"./heroicons-CTwCrMww.js";import{F as O}from"./Footer-Cj0b0wi-.js";import{l as n}from"./menu-BcEDE3vj.js";import{K as q}from"./transition-Cw_pkg33.js";function G({show:p,onClose:r,isFirstLogin:f=!1}){const{data:o,setData:i,post:x,processing:t,errors:l,reset:h}=j({current_password:"",new_password:"",new_password_confirmation:""}),c=a=>{a.preventDefault(),x(route("parent.settings.password.update"),{onSuccess:()=>{h(),r()}})};return p?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:r}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsx("div",{className:"inline-block align-middle bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full",children:e.jsxs("div",{className:"bg-white px-8 pt-8 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",id:"modal-title",children:"Change Password"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500",children:e.jsx(N,{className:"h-6 w-6"})})]}),f&&e.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"First Login Detected"}),e.jsx("div",{className:"mt-1 text-sm text-yellow-700",children:e.jsx("p",{children:"For security reasons, you must change your temporary password before continuing."})})]})]})}),e.jsxs("form",{onSubmit:c,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",id:"current_password",value:o.current_password,onChange:a=>i("current_password",a.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter current password",required:!0})]}),l.current_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.current_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",id:"new_password",value:o.new_password,onChange:a=>i("new_password",a.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter new password",required:!0})]}),l.new_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.new_password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password_confirmation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",id:"new_password_confirmation",value:o.new_password_confirmation,onChange:a=>i("new_password_confirmation",a.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Confirm new password",required:!0})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:t?"Changing Password...":"Change Password"})})]})]})})]})}):null}function Y({children:p}){const{auth:r,students:f,student:o,selectedStudentId:i}=v().props,[x,t]=u.useState(!1),[l,h]=u.useState(!1),[c,a]=u.useState(!0),d=o?.id||i||f?.[0]?.id,b=[{name:"Dashboard",href:route("parent.dashboard"),icon:y},{name:"Communication",href:route("parent.announcements"),icon:k},{name:"My Children",href:route("parent.children"),icon:F},{name:"Semester Records",href:route("parent.academic.semesters",d),icon:D},{name:"Academic Year",href:route("parent.academic.year.current",d),icon:$},{name:"Attendance",href:route("parent.student.attendance",d),icon:_},{name:"Class Schedule",href:route("parent.student.schedule",d),icon:R},{name:"Payments",href:route("parent.student.payments",d),icon:C},{name:"School Contact",href:route("parent.school-contact"),icon:E}],g=window.location.pathname;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>t(!1)}),e.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-screen w-64 flex flex-col transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${x?"translate-x-0":"-translate-x-full"} director-sidebar shadow-2xl`,style:{background:"linear-gradient(to top, #1D4ED8 0%, #F0F9FF 100%)"},children:[e.jsx("div",{className:"p-3 bg-[#1D4ED8] border-b border-white/10 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white p-1 shadow-2xl group flex-shrink-0",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center overflow-hidden border border-gray-100",children:e.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"w-full h-full object-contain",onError:s=>{s.target.onerror=null,s.target.src="https://ui-avatars.com/api/?name=Darul+Ulum&background=1D4ED8&color=fff"}})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm font-black text-white tracking-wider uppercase leading-tight truncate",children:"Darul-Ulum"}),e.jsx("p",{className:"text-[8px] font-bold text-blue-100 tracking-[0.2em] uppercase mt-0.5 opacity-80 truncate",children:"Islamic School (Parent)"})]})]})}),e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("div",{onClick:()=>a(!c),className:"bg-[#1D4ED8] rounded-xl p-3 shadow-lg border border-white/20 flex items-center justify-between group cursor-pointer hover:bg-[#1E40AF] transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-1 px-2 border-r border-white/20",children:e.jsx(P,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-white font-black text-sm whitespace-nowrap uppercase tracking-tighter",children:"Manage School"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent ${c?"border-b-[10px] border-b-white/90":"border-t-[10px] border-t-white/90"} ml-2 transition-all duration-300`})})]})}),e.jsx("div",{className:`flex-1 transition-all duration-300 ease-in-out overflow-hidden ${c?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("nav",{className:"px-3 py-2 space-y-1 overflow-y-auto",children:b.map(s=>e.jsxs(m,{href:s.href,onClick:()=>t(!1),className:`flex items-center space-x-3 px-3 py-2.5 rounded-lg text-xs font-bold transition-all ${g===s.href||g.startsWith(s.href)?"bg-[#1D4ED8]/10 text-[#1D4ED8] shadow-sm":"text-[#1E3A8A] hover:bg-[#1D4ED8]/5 hover:text-[#111827]"}`,children:[e.jsx(s.icon,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.name})]},s.name))})})]}),e.jsxs("div",{className:"lg:pl-64 flex flex-col min-h-screen",children:[e.jsxs("header",{className:"sticky top-0 z-30 bg-[#1D4ED8] px-4 h-16 flex items-center shadow-xl border-b border-white/10",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-600/5 pointer-events-none"}),e.jsxs("div",{className:"flex-1 flex items-center space-x-4 relative z-10",children:[e.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 text-white/80 hover:text-white transition-colors lg:hidden",children:e.jsx(S,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center space-x-4 md:space-x-8 ml-2 md:ml-4 overflow-x-auto no-scrollbar",children:[e.jsx(m,{href:"/",className:"text-white text-xs md:text-sm font-black uppercase tracking-wider border-b-2 border-white/40 pb-1 whitespace-nowrap",children:"Home"}),e.jsx(m,{href:route("parent.school-contact"),className:"text-white/60 hover:text-white text-xs md:text-sm font-black uppercase tracking-wider transition-all whitespace-nowrap",children:"Support"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4 relative z-10",children:[e.jsxs("button",{className:"p-2 text-white/80 hover:text-white transition-all relative group rounded-xl hover:bg-white/10 hover:scale-110 active:scale-95",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-pink-500 rounded-full border-2 border-[#1E293B] animate-pulse"})]}),e.jsx("button",{className:"p-2 text-white/80 hover:text-white transition-all rounded-xl hover:bg-white/10 hover:scale-110 active:scale-95",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsxs(n,{as:"div",className:"relative ml-2 sm:ml-4 border-l border-white/10 pl-4 flex items-center",children:[e.jsx(n.Button,{className:"flex items-center focus:outline-none group py-1",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-white p-0.5 shadow-2xl flex-shrink-0 flex items-center justify-center transform group-hover:scale-110 transition-all duration-300 ring-4 ring-white/10",children:e.jsx("div",{className:"w-full h-full rounded-full bg-[#0F172A] flex items-center justify-center overflow-hidden border border-white/20",children:e.jsx("img",{className:"w-full h-full object-cover",src:`https://ui-avatars.com/api/?name=${r?.user?.name||"Parent"}&background=0F172A&color=fff`,alt:r?.user?.name||"Parent"})})})}),e.jsx(q,{as:u.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e.jsxs(n.Items,{className:"absolute right-0 top-full mt-0 w-52 origin-top-right divide-y divide-gray-100 rounded-b-[1.5rem] bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden z-50 transform",children:[e.jsxs("div",{className:"bg-[#1D4ED8] p-3 flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white p-0.5 shadow-xl mb-2 ring-4 ring-white/10",children:e.jsx("div",{className:"w-full h-full rounded-full bg-[#0F172A] flex items-center justify-center overflow-hidden border border-white/20 shadow-inner",children:e.jsx("img",{className:"w-full h-full object-cover",src:`https://ui-avatars.com/api/?name=${r?.user?.name||"Parent"}&background=0F172A&color=fff`,alt:r?.user?.name||"Parent"})})}),e.jsx("h3",{className:"text-white font-black text-xs tracking-tighter uppercase mb-1",children:"Guardian Portal"}),e.jsx("p",{className:"text-blue-200 text-[8px] font-bold truncate w-full text-center opacity-80 px-2 line-height-none",children:r?.user?.name||"Guardian Name"})]}),e.jsxs("div",{className:"p-2 bg-white space-y-1.5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[e.jsx(n.Item,{children:({active:s})=>e.jsxs(m,{href:route("parent.children"),className:`${s?"bg-[#1E40AF] scale-[1.02]":"bg-[#1D4ED8]"} flex items-center justify-center space-x-1 p-1.5 rounded-lg text-white transition-all shadow-md h-full`,children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{className:"text-[7.5px] font-black uppercase tracking-wider",children:"Family"})]})}),e.jsx(n.Item,{children:({active:s})=>e.jsxs("button",{onClick:()=>h(!0),className:`${s?"bg-amber-600 scale-[1.02]":"bg-amber-500"} flex items-center justify-center space-x-1 p-1.5 rounded-lg text-white transition-all shadow-md h-full w-full`,children:[e.jsx(M,{className:"h-3 w-3"}),e.jsx("span",{className:"text-[7.5px] font-black uppercase tracking-wider",children:"Security"})]})})]}),e.jsx(n.Item,{children:({active:s})=>e.jsxs(m,{href:"/logout",method:"post",as:"button",className:`${s?"bg-red-700 scale-[1.02]":"bg-red-600"} flex items-center justify-center space-x-1.5 p-1.5 rounded-lg text-white transition-all shadow-md w-full`,children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-wider",children:"Exit System"})]})})]})]})})]})]})]}),e.jsxs("div",{className:"bg-white/50 border-b border-gray-200 px-4 py-3 sm:px-6 lg:px-8 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs font-bold text-gray-500 uppercase tracking-widest",children:[e.jsx("span",{children:"Parent"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-[#1D4ED8]",children:"Portal"})]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 transition-all shadow-sm group",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400 group-hover:text-[#1D4ED8]"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Go Back"})]})]}),e.jsx("main",{className:"p-3 lg:p-5 flex-1 bg-gray-50/50",children:p}),e.jsx(O,{})]}),e.jsx(G,{show:l,onClose:()=>h(!1),isFirstLogin:r?.user?.first_login||!1})]})}export{Y as P};
