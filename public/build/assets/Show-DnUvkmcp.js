import{j as e}from"./app-BnMRzgve.js";import{r as a,H as y,L as N}from"./inertia-Clk-cdek.js";import{P as v}from"./ParentLayout-iXH5PkPE.js";import{E as w,a5 as S,J as F,G as R,ah as k,u as A}from"./heroicons-CTwCrMww.js";import{K as x}from"./transition-Cw_pkg33.js";import{h as c}from"./dialog-nL0D7On1.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-DA3Ujf7w.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";function H({student:r,semester:i,academic_year:o,subject_records:l,semester_average:m,rank:b,total_students:j}){const[u,h]=a.useState(!1),[t,p]=a.useState(null),g=s=>{p(s),h(!0)},n=()=>{h(!1),p(null)},f=s=>s>=90?"A":s>=80?"B":s>=70?"C":s>=60?"D":"F";return e.jsxs(v,{children:[e.jsx(y,{title:`Semester ${i} - ${o?.name}`}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-5 pb-8",children:[e.jsxs("div",{children:[e.jsxs(N,{href:route("parent.academic.semesters",r.id),className:"inline-flex items-center text-gray-600 hover:text-blue-600 transition-colors mb-3 group",children:[e.jsx(w,{className:"w-4 h-4 mr-1.5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-sm font-semibold",children:"Back to All Semesters"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Semester ",i," Report"]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600 font-medium",children:[o?.name," Academic Year"]})]}),e.jsxs("div",{className:"flex space-x-2 mt-3 md:mt-0",children:[e.jsxs("span",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-xs font-bold uppercase",children:["Grade ",r?.grade?.name||"N/A"]}),e.jsxs("span",{className:"px-3 py-1.5 bg-gray-700 text-white rounded-lg text-xs font-bold uppercase",children:["Section ",r?.section?.name||"N/A"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-4 text-white shadow-lg border border-blue-500",children:[e.jsx("p",{className:"text-blue-100 text-xs font-bold uppercase mb-1",children:"Semester Average"}),e.jsxs("div",{className:"flex items-baseline space-x-1",children:[e.jsx("h2",{className:"text-4xl font-black",children:m}),e.jsx("span",{className:"text-xl font-bold",children:"%"})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs font-bold uppercase",children:["Grade ",f(m)]})})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-bold uppercase mb-1",children:"Class Rank"}),e.jsxs("h2",{className:"text-3xl font-black text-gray-900",children:[e.jsx("span",{className:"text-amber-500",children:"#"}),b]}),e.jsxs("p",{className:"text-gray-500 text-xs font-semibold mt-1",children:["out of ",j," students"]})]}),e.jsx("div",{className:"bg-amber-100 p-2 rounded-lg",children:e.jsx(S,{className:"w-6 h-6 text-amber-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-bold uppercase mb-1",children:"Total Subjects"}),e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:l?.length||0}),e.jsx("p",{className:"text-gray-500 text-xs font-semibold mt-1",children:"Enrolled"})]}),e.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:e.jsx(F,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:e.jsx(R,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Subject Mastery"}),e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Performance in each subject"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Subject"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase",children:"Mark out of 100"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l&&l.length>0?l.map((s,d)=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.subject.name}),e.jsx("span",{className:"text-xs text-gray-600 font-mono",children:s.subject.code}),s.graded_assessments<s.total_assessments&&e.jsxs("span",{className:"text-xs text-yellow-700 font-semibold mt-0.5",children:[s.graded_assessments,"/",s.total_assessments," graded"]})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:s.graded_assessments>0?e.jsxs("span",{className:"text-base font-bold text-blue-600",children:[s.total_score," / ",s.total_max_score]}):e.jsx("span",{className:"text-sm text-gray-500 font-semibold",children:"Not Graded"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsx("button",{onClick:()=>g(s),className:"px-3 py-1.5 bg-blue-600 rounded-lg font-bold text-xs text-white uppercase hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",children:"View Details"})})]},d)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"3",className:"px-4 py-8 text-center",children:[e.jsx("div",{className:"mx-auto w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:e.jsx(k,{className:"w-5 h-5 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"No academic records found for this semester."})]})})})]})})]})]}),e.jsx(x,{appear:!0,show:u,as:a.Fragment,children:e.jsxs(c,{as:"div",className:"relative z-[60]",onClose:n,children:[e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(x.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(c.Panel,{className:"w-full max-w-xl transform overflow-hidden rounded-xl bg-white p-4 text-left align-middle shadow-xl transition-all",children:[e.jsxs(c.Title,{as:"div",className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t?.subject.name}),e.jsxs("div",{className:"flex items-center mt-0.5 space-x-1.5",children:[e.jsx("span",{className:"text-xs text-gray-700 font-mono bg-gray-100 px-1.5 py-0.5 rounded",children:t?.subject.code}),e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),e.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[t?.average,"% Average"]})]})]}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-full hover:bg-gray-100",children:e.jsx(A,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase",children:"Assessment"}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-bold text-gray-700 uppercase",children:"Max Score"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-bold text-gray-700 uppercase",children:"Score"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t?.marks.length>0?t.marks.map((s,d)=>e.jsxs("tr",{className:"hover:bg-blue-50",children:[e.jsx("td",{className:"px-3 py-2 text-sm font-semibold text-gray-900",children:s.assessment_name}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700 font-semibold text-center",children:s.max_score}),e.jsx("td",{className:"px-3 py-2 text-right",children:s.is_submitted?e.jsx("span",{className:`font-bold text-sm ${s.score>=s.max_score*.9?"text-green-600":"text-gray-900"}`,children:s.score}):e.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"0"})})]},d)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-3 py-6 text-center text-gray-600 text-sm font-medium",children:"No assessments recorded yet."})})})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",className:"px-4 py-1.5 rounded-lg bg-blue-600 text-white text-sm font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",onClick:n,children:"Done"})})]})})})})]})})]})}export{H as default};
