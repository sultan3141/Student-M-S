import{j as e}from"./app-B2S3Wz0d.js";import{r as g,u as S,b as F,H as P}from"./inertia-Clk-cdek.js";import{R as E}from"./RegistrarLayout-B-D7Rssd.js";import{I as p,ad as u,G as o,H as b,X as T,z as D,S as G}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-C9OBh2Gh.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function U({stats:a,recentReports:j,grades:f,academicYears:N}){const[d,y]=g.useState("enrollment"),[n,v]=g.useState("csv"),{flash:i}=S().props,{data:l,setData:r,post:A,processing:m}=F({type:"enrollment",format:"csv",grade_id:"",academic_year_id:"",date_from:"",date_to:""}),x=[{id:"enrollment",name:"Student Enrollment Report",description:"Complete list of all registered students with their details",icon:p,color:"blue",fields:["grade_id"]},{id:"finance",name:"Financial Report",description:"Payment records and fee collection summary",icon:u,color:"green",fields:["date_from","date_to"]},{id:"grades",name:"Grade Distribution Report",description:"Student distribution across grades with statistics",icon:o,color:"purple",fields:[]},{id:"parents",name:"Parent Contact Report",description:"Guardian information and contact details",icon:b,color:"orange",fields:[]},{id:"academic",name:"Academic Performance Report",description:"Student marks and academic performance data",icon:T,color:"indigo",fields:["grade_id","academic_year_id"]},{id:"attendance",name:"Attendance Report",description:"Student attendance records and statistics",icon:D,color:"teal",fields:["grade_id","date_from","date_to"]}],w=[{id:"csv",name:"CSV (Excel Compatible)",description:"Comma-separated values for spreadsheet applications"},{id:"pdf",name:"PDF Document",description:"Formatted document for printing and sharing"},{id:"excel",name:"Excel Workbook",description:"Native Excel format with formatting"}],_=s=>{y(s),r("type",s)},R=s=>{v(s),r("format",s)},$=s=>{s.preventDefault();const h=new URLSearchParams;Object.entries(l).forEach(([C,c])=>{c!==null&&c!==""&&h.append(C,c)});const k=`${route("registrar.reports.generate")}?${h.toString()}`;window.location.href=k},t=x.find(s=>s.id===d);return e.jsxs(E,{user:null,children:[e.jsx(P,{title:"Reports Center"}),e.jsxs("div",{className:"space-y-6",children:[i?.success&&e.jsx("div",{className:"bg-green-50 border-2 border-green-500 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-green-800 font-medium",children:i.success})]})}),i?.error&&e.jsx("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-red-800 font-medium",children:i.error})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-[#E5E7EB] overflow-hidden",children:e.jsxs("div",{className:"bg-[#228B22] px-6 py-4 border-b border-[#D4AF37]",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(o,{className:"w-6 h-6 mr-2"}),"REPORTS CENTER"]}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Generate comprehensive reports for school management"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:e.jsx(p,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_students})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100",children:e.jsx(b,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Parents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_parents})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:e.jsx(o,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Grades"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_grades})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:e.jsx(u,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_payments})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"ðŸ“Š Select Report Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(s=>e.jsx("div",{onClick:()=>_(s.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${d===s.id?`border-${s.color}-500 bg-${s.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(s.icon,{className:`w-6 h-6 ${d===s.id?`text-${s.color}-600`:"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-medium ${d===s.id?`text-${s.color}-900`:"text-gray-900"}`,children:s.name}),e.jsx("p",{className:`text-sm mt-1 ${d===s.id?`text-${s.color}-700`:"text-gray-500"}`,children:s.description})]})]})},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"âš™ï¸ Report Configuration"}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Format"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:w.map(s=>e.jsxs("div",{onClick:()=>R(s.id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${n===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("h5",{className:`font-medium ${n===s.id?"text-blue-900":"text-gray-900"}`,children:s.name}),e.jsx("p",{className:`text-xs mt-1 ${n===s.id?"text-blue-700":"text-gray-500"}`,children:s.description})]},s.id))})]}),t&&t.fields.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.fields.includes("grade_id")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Grade"}),e.jsxs("select",{value:l.grade_id,onChange:s=>r("grade_id",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Grades"}),f.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),t.fields.includes("academic_year_id")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),e.jsxs("select",{value:l.academic_year_id,onChange:s=>r("academic_year_id",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Current Year"}),N.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),t.fields.includes("date_from")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:l.date_from,onChange:s=>r("date_from",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.fields.includes("date_to")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:l.date_to,onChange:s=>r("date_to",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center px-6 py-3 bg-[#228B22] hover:bg-green-700 text-white font-bold rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(G,{className:"w-5 h-5 mr-2"}),m?"Generating Report...":`Generate ${t?.name||"Report"}`]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"ðŸ“ˆ Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Students with Parents"}),e.jsx("span",{className:"font-bold text-green-600",children:a.students_with_parents})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Students without Parents"}),e.jsx("span",{className:"font-bold text-red-600",children:a.students_without_parents})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completed Payments"}),e.jsx("span",{className:"font-bold text-blue-600",children:a.completed_payments})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pending Payments"}),e.jsx("span",{className:"font-bold text-orange-600",children:a.pending_payments})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Marks"}),e.jsx("span",{className:"font-bold text-purple-600",children:a.total_marks})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"ðŸ“‹ Recent Reports"}),e.jsx("div",{className:"space-y-3",children:j.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.date," â€¢ ",s.size]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded ${s.type==="PDF"?"bg-red-100 text-red-800":s.type==="Excel"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:s.type})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"ðŸ“… Academic Info"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Academic Year"}),e.jsx("span",{className:"font-bold text-blue-600",children:a.current_academic_year})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Report Generated"}),e.jsx("span",{className:"font-bold text-gray-900",children:new Date().toLocaleDateString()})]})]})]})]})]})]})]})}export{U as default};
