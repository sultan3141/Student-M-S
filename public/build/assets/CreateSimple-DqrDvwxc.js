import{j as e}from"./app-PKZgXky8.js";import{u as T,r as c,H as I,L as p,a as w,d as R}from"./inertia-Clk-cdek.js";import{T as D}from"./TeacherLayout-Dc6ikSbd.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-Cj0b0wi-.js";import"./ErrorBoundary-Dcn_DJN7.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function J({grades:u,academicYear:N,currentSemester:_}){const{errors:a}=T().props,g=new URLSearchParams(window.location.search),S=g.get("grade_id"),$=g.get("subject_id"),[r,C]=c.useState(S||""),[n,b]=c.useState($||""),[h,f]=c.useState([]),[j,y]=c.useState(!1),[v,x]=c.useState([]),[i,m]=c.useState([{name:"",total_marks:"",assessment_type_id:"",due_date:"",description:""}]);c.useEffect(()=>{r?(async()=>{y(!0);try{const s=await w.get(route("teacher.assessments-simple.subjects-for-class"),{params:{grade_id:r}});f(s.data.subjects)}catch(s){console.error("Error fetching subjects:",s)}finally{y(!1)}})():(f([]),b(""))},[r]),c.useEffect(()=>{r&&n?(async()=>{try{const s=await w.get(route("teacher.assessments-simple.types-for-class"),{params:{grade_id:r,subject_id:n}});x(s.data)}catch(s){console.error("Error fetching assessment types:",s),x([])}})():x([])},[r,n]);const L=()=>{m([...i,{name:"",total_marks:"",assessment_type_id:"",due_date:"",description:""}])},A=t=>{const s=i.filter((l,o)=>o!==t);m(s)},d=(t,s,l)=>{const o=[...i];o[t][s]=l,m(o)},E=t=>{if(t.preventDefault(),!r||!n){alert("Please select a grade and subject.");return}R.post(route("teacher.assessments-simple.store"),{grade_id:r,subject_id:n,assessments:i})};return u.find(t=>t.id==r),h.find(t=>t.id==n),e.jsxs(D,{children:[e.jsx(I,{title:"Create Assessment"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 mb-2",children:[e.jsx(p,{href:route("teacher.dashboard"),className:"hover:text-blue-600 transition-colors",children:"Dashboard"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx(p,{href:route("teacher.assessments-simple.index"),className:"hover:text-blue-600 transition-colors",children:"Assessments"}),e.jsx("span",{className:"text-gray-300",children:"/"}),e.jsx("span",{className:"text-gray-900 uppercase",children:"Create"})]}),e.jsxs("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:["NEW ",e.jsx("span",{className:"text-blue-600 uppercase",children:"Assessment"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"px-4 py-2 bg-white border border-gray-100 rounded-xl shadow-sm text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),N?.name," • SEM ",_]})})]}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[e.jsxs("div",{className:`bg-white rounded-3xl shadow-sm border p-8 mb-6 transition-all duration-300 ${r?"border-blue-500/30":"border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-black transition-colors ${r?"bg-blue-600 text-white":"bg-gray-100 text-gray-400"}`,children:"1"}),e.jsxs("h2",{className:`text-xs font-black uppercase tracking-[0.2em] transition-colors ${r?"text-blue-600":"text-gray-400"}`,children:["Step 1: Select Grade",r&&e.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]})]}),e.jsxs("div",{className:"pl-14",children:[e.jsxs("div",{className:"relative group max-w-md",children:[e.jsxs("select",{value:r,onChange:t=>C(t.target.value),className:`w-full pl-5 pr-12 py-4 bg-gray-50/50 border focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer ${a.grade_id?"border-red-500":"border-gray-100"}`,children:[e.jsx("option",{value:"",children:"Choose a Grade Level..."}),u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none group-hover:text-blue-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),a.grade_id&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-2",children:a.grade_id})]})]}),e.jsxs("div",{className:`bg-white rounded-3xl shadow-sm border p-8 mb-8 transition-all duration-300 ${r?"opacity-100 translate-y-0":"opacity-50 translate-y-4 pointer-events-none"} ${n?"border-blue-500/30":"border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-black transition-colors ${n?"bg-blue-600 text-white":r?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:"2"}),e.jsxs("h2",{className:`text-xs font-black uppercase tracking-[0.2em] transition-colors ${n?"text-blue-600":r?"text-gray-900":"text-gray-400"}`,children:["Step 2: Select Subject",n&&e.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]})]}),e.jsxs("div",{className:"pl-14",children:[e.jsxs("div",{className:"relative group max-w-md",children:[e.jsxs("select",{value:n,onChange:t=>b(t.target.value),disabled:!r||j,className:`w-full pl-5 pr-12 py-4 bg-gray-50/50 border focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed ${a.subject_id?"border-red-500":"border-gray-100"}`,children:[e.jsx("option",{value:"",children:j?"Loading...":"Choose a Subject..."}),h.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none group-hover:text-blue-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),!r&&e.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 mt-2 font-bold",children:"Please select a grade first"}),a.subject_id&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-2",children:a.subject_id})]})]}),r&&n&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-black bg-blue-600 text-white shadow-sm",children:"3"}),e.jsx("h2",{className:"text-xs font-black uppercase tracking-[0.2em] text-gray-900 border-b-2 border-blue-500 pb-1",children:"Assessment Details"})]}),e.jsxs("button",{type:"button",onClick:L,className:"text-blue-600 hover:text-blue-700 font-bold flex items-center gap-2 text-xs uppercase tracking-wider bg-blue-50 px-4 py-2 rounded-xl transition-all hover:bg-blue-100",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Another"]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-8",children:[i.map((t,s)=>e.jsxs("div",{className:"bg-white rounded-[2rem] border border-gray-100 shadow-sm overflow-hidden transition-all hover:shadow-md",children:[e.jsxs("div",{className:"px-8 py-5 bg-gray-50/50 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-600 flex items-center justify-center text-[10px] font-black text-white",children:s+1}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"ASSESSMENT DETAIL"})]}),i.length>1&&e.jsxs("button",{type:"button",onClick:()=>A(s),className:"text-[10px] font-black text-red-400 hover:text-red-600 transition-colors uppercase tracking-widest flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})}),"Remove"]})]}),e.jsxs("div",{className:"p-10 space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Assessment Type"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{value:t.assessment_type_id||"",onChange:l=>{const o=l.target.value;if(d(s,"assessment_type_id",o),o){const k=v.find(M=>M.id==o);k&&!t.name&&d(s,"name",k.name)}},className:"w-full pl-5 pr-12 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"Custom / No Type"}),v.map(l=>e.jsxs("option",{value:l.id,children:[l.name," (",l.weight||l.weight_percentage,"%)"]},l.id))]}),e.jsx("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none group-hover:text-blue-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Assessment Name *"}),e.jsx("input",{type:"text",required:!0,value:t.name,onChange:l=>d(s,"name",l.target.value),className:`w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all placeholder:text-gray-300 ${a[`assessments.${s}.name`]?"border-red-500":""}`,placeholder:"e.g. Midterm Exam"}),a[`assessments.${s}.name`]&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-1 ml-1",children:a[`assessments.${s}.name`]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Total Marks *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:t.total_marks,onChange:l=>d(s,"total_marks",l.target.value),className:`w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all placeholder:text-gray-300 ${a[`assessments.${s}.total_marks`]?"border-red-500":""}`,placeholder:"100"}),a[`assessments.${s}.total_marks`]&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-1 ml-1",children:a[`assessments.${s}.total_marks`]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Due Date"}),e.jsx("input",{type:"date",value:t.due_date,onChange:l=>d(s,"due_date",l.target.value),className:`w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all ${a[`assessments.${s}.due_date`]?"border-red-500":""}`}),a[`assessments.${s}.due_date`]&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-1 ml-1",children:a[`assessments.${s}.due_date`]})]}),e.jsxs("div",{className:"md:col-span-2 space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Description (Optional)"}),e.jsx("input",{type:"text",value:t.description,onChange:l=>d(s,"description",l.target.value),className:`w-full px-5 py-4 bg-gray-50/50 border border-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 rounded-2xl text-xs font-black text-gray-700 transition-all placeholder:text-gray-300 ${a[`assessments.${s}.description`]?"border-red-500":""}`,placeholder:"Short notes about this assessment..."}),a[`assessments.${s}.description`]&&e.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-wider mt-1 ml-1",children:a[`assessments.${s}.description`]})]})]})]})]},s)),a.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a.error}),e.jsxs("div",{className:"flex justify-end gap-5 pt-8",children:[e.jsx(p,{href:route("teacher.assessments-simple.index"),className:"px-8 py-4 bg-gray-50 text-gray-400 rounded-2xl hover:bg-gray-100 hover:text-gray-600 text-[10px] font-black transition-all border border-gray-100 uppercase tracking-widest",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-10 py-4 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 text-[10px] font-black transition-all shadow-lg shadow-blue-200 uppercase tracking-widest",children:["Create Assessment",i.length>1?"s":""]})]})]})]}),!r&&e.jsxs("div",{className:"bg-white rounded-[2rem] border border-gray-100 py-32 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-sm",children:e.jsx("svg",{className:"w-10 h-10 text-gray-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2 uppercase tracking-wide",children:"Get Started"}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] max-w-xs mx-auto",children:"Select a grade and subject above to begin creating assessments."})]})]})]})}export{J as default};
