import{j as i}from"./app-DR2vn0Ou.js";import{r as s,H as pe}from"./inertia-Clk-cdek.js";import{S as ue}from"./StudentLayout-DQKqvdnh.js";import{c as T,n as H,aj as X,ak as U,aQ as xe,am as he,aR as me,al as V,au as ve,D as Z,G as ye,av as Q,F as ge,aw as fe,ax as be,w as q,M as je,ay as Ae,aS as Ne,az as Pe,I as Ie,K as Ee,aT as Se,Z as we,L as Le,aB as De,aA as ke,h as J,aU as M,ad as $,N as Ce,O as Oe,Q as L,a6 as _e,aF as Re,aV as Te,a5 as Ke,E as We,aH as Be,aI as Fe,R as ze,C as Ve,X as Me,Y as $e,T as Ge,aP as Ye}from"./CartesianChart-Bx_JV_Ad.js";import{g as He,A as Xe,D as Ue}from"./getRadiusAndStrokeWidthFromDot-Ckh8eOhZ.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-xgBc-P8m.js";import"./ErrorBoundary-fz_7TGlW.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";var ee=(t,a,r,e)=>X(t,"xAxis",a,e),te=(t,a,r,e)=>U(t,"xAxis",a,e),ae=(t,a,r,e)=>X(t,"yAxis",r,e),re=(t,a,r,e)=>U(t,"yAxis",r,e),Ze=T([H,ee,ae,te,re],(t,a,r,e,n)=>me(t,"xAxis")?V(a,e,!1):V(r,n,!1)),Qe=(t,a,r,e,n)=>n;function qe(t){return t.type==="line"}var Je=T([he,Qe],(t,a)=>t.filter(qe).find(r=>r.id===a)),et=T([H,ee,ae,te,re,Je,Ze,xe],(t,a,r,e,n,o,d,c)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:p}=c;if(!(o==null||a==null||r==null||e==null||n==null||e.length===0||n.length===0||d==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:x,data:h}=o,m;if(h!=null&&h.length>0?m=h:m=l?.slice(u,p+1),m!=null)return bt({layout:t,xAxis:a,yAxis:r,xAxisTicks:e,yAxisTicks:n,dataKey:x,bandSize:d,displayedData:m})}}),tt=["id"],at=["type","layout","connectNulls","needClip","shape"],rt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function D(){return D=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},D.apply(null,arguments)}function G(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,e)}return r}function j(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?G(Object(r),!0).forEach(function(e){it(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function it(t,a,r){return(a=nt(a))in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function nt(t){var a=st(t,"string");return typeof a=="symbol"?a:a+""}function st(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,a);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function K(t,a){if(t==null)return{};var r,e,n=lt(t,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(e=0;e<o.length;e++)r=o[e],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lt(t,a){if(t==null)return{};var r={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(a.indexOf(e)!==-1)continue;r[e]=t[e]}return r}var ot=t=>{var{dataKey:a,name:r,stroke:e,legendType:n,hide:o}=t;return[{inactive:o,dataKey:a,type:n,color:e,value:q(r,a),payload:t}]},dt=s.memo(t=>{var{dataKey:a,data:r,stroke:e,strokeWidth:n,fill:o,name:d,hide:c,unit:l,tooltipType:u,id:p}=t,x={dataDefinedOnItem:r,positions:void 0,settings:{stroke:e,strokeWidth:n,fill:o,dataKey:a,nameKey:void 0,name:q(d,a),hide:c,type:u,color:e,unit:l,graphicalItemId:p}};return s.createElement(je,{tooltipEntrySettings:x})}),ie=(t,a)=>"".concat(a,"px ").concat(t-a,"px");function ct(t,a){for(var r=t.length%2!==0?[...t,0]:t,e=[],n=0;n<a;++n)e=[...e,...r];return e}var pt=(t,a,r)=>{var e=r.reduce((x,h)=>x+h);if(!e)return ie(a,t);for(var n=Math.floor(t/e),o=t%e,d=a-t,c=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>o){c=[...r.slice(0,l),o-u];break}var p=c.length%2===0?[0,d]:[d];return[...ct(r,n),...c,...p].map(x=>"".concat(x,"px")).join(", ")};function ut(t){var{clipPathId:a,points:r,props:e}=t,{dot:n,dataKey:o,needClip:d}=e,{id:c}=e,l=K(e,tt),u=We(l);return s.createElement(Ue,{points:r,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:u,needClip:d,clipPathId:a})}function xt(t){var{showLabels:a,children:r,points:e}=t,n=s.useMemo(()=>e?.map(o=>{var d,c,l={x:(d=o.x)!==null&&d!==void 0?d:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return j(j({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[e]);return s.createElement(Re,{value:a?n:void 0},r)}function Y(t){var{clipPathId:a,pathRef:r,points:e,strokeDasharray:n,props:o}=t,{type:d,layout:c,connectNulls:l,needClip:u,shape:p}=o,x=K(o,at),h=j(j({},Te(x)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(a,")"):void 0,points:e,type:d,layout:c,connectNulls:l,strokeDasharray:n??o.strokeDasharray});return s.createElement(s.Fragment,null,e?.length>1&&s.createElement(Ke,D({shapeType:"curve",option:p},h,{pathRef:r})),s.createElement(ut,{points:e,clipPathId:a,props:o}))}function ht(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function mt(t){var{clipPathId:a,props:r,pathRef:e,previousPointsRef:n,longestAnimatedLengthRef:o}=t,{points:d,strokeDasharray:c,isAnimationActive:l,animationBegin:u,animationDuration:p,animationEasing:x,animateNewValues:h,width:m,height:b,onAnimationEnd:v,onAnimationStart:N}=r,A=n.current,y=Ce(d,"recharts-line-"),g=s.useRef(y),[E,S]=s.useState(!1),C=!E,O=s.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),_=s.useCallback(()=>{typeof N=="function"&&N(),S(!0)},[N]),P=ht(e.current),k=s.useRef(0);g.current!==y&&(k.current=o.current,g.current=y);var W=k.current;return s.createElement(xt,{points:d,showLabels:C},r.children,s.createElement(Oe,{animationId:y,begin:u,duration:p,isActive:l,easing:x,onAnimationEnd:O,onAnimationStart:_,key:y},I=>{var le=L(W,P+W,I),R=Math.min(le,P),w;if(l)if(c){var oe="".concat(c).split(/[,\s]+/gim).map(f=>parseFloat(f));w=pt(R,P,oe)}else w=ie(P,R);else w=c==null?void 0:String(c);if(I>0&&P>0&&(n.current=d,o.current=Math.max(o.current,R)),A){var de=A.length/d.length,B=I===1?d:d.map((f,ce)=>{var F=Math.floor(ce*de);if(A[F]){var z=A[F];return j(j({},f),{},{x:L(z.x,f.x,I),y:L(z.y,f.y,I)})}return h?j(j({},f),{},{x:L(m*2,f.x,I),y:L(b/2,f.y,I)}):j(j({},f),{},{x:f.x,y:f.y})});return n.current=B,s.createElement(Y,{props:r,points:B,clipPathId:a,pathRef:e,strokeDasharray:w})}return s.createElement(Y,{props:r,points:d,clipPathId:a,pathRef:e,strokeDasharray:w})}),s.createElement(_e,{label:r.label}))}function vt(t){var{clipPathId:a,props:r}=t,e=s.useRef(null),n=s.useRef(0),o=s.useRef(null);return s.createElement(mt,{props:r,clipPathId:a,previousPointsRef:e,longestAnimatedLengthRef:n,pathRef:o})}var yt=(t,a)=>{var r,e;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(e=t.y)!==null&&e!==void 0?e:void 0,value:t.value,errorVal:J(t.payload,a)}};class gt extends s.Component{render(){var{hide:a,dot:r,points:e,className:n,xAxisId:o,yAxisId:d,top:c,left:l,width:u,height:p,id:x,needClip:h,zIndex:m}=this.props;if(a)return null;var b=Ee("recharts-line",n),v=x,{r:N,strokeWidth:A}=He(r),y=Se(r),g=N*2+A,E=h?"url(#clipPath-".concat(y?"":"dots-").concat(v,")"):void 0;return s.createElement(we,{zIndex:m},s.createElement(Le,{className:b},h&&s.createElement("defs",null,s.createElement(De,{clipPathId:v,xAxisId:o,yAxisId:d}),!y&&s.createElement("clipPath",{id:"clipPath-dots-".concat(v)},s.createElement("rect",{x:l-g/2,y:c-g/2,width:u+g,height:p+g}))),s.createElement(ke,{xAxisId:o,yAxisId:d,data:e,dataPointFormatter:yt,errorBarOffset:0},s.createElement(vt,{props:this.props,clipPathId:v}))),s.createElement(Xe,{activeDot:this.props.activeDot,points:e,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var ne={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ye.line,type:"linear"};function ft(t){var a=Z(t,ne),{activeDot:r,animateNewValues:e,animationBegin:n,animationDuration:o,animationEasing:d,connectNulls:c,dot:l,hide:u,isAnimationActive:p,label:x,legendType:h,xAxisId:m,yAxisId:b,id:v}=a,N=K(a,rt),{needClip:A}=Ae(m,b),y=Ne(),g=Pe(),E=Q(),S=Ie(k=>et(k,m,b,E,v));if(g!=="horizontal"&&g!=="vertical"||S==null||y==null)return null;var{height:C,width:O,x:_,y:P}=y;return s.createElement(gt,D({},N,{id:v,connectNulls:c,dot:l,activeDot:r,animateNewValues:e,animationBegin:n,animationDuration:o,animationEasing:d,isAnimationActive:p,hide:u,label:x,legendType:h,xAxisId:m,yAxisId:b,points:S,layout:g,height:C,width:O,left:_,top:P,needClip:A}))}function bt(t){var{layout:a,xAxis:r,yAxis:e,xAxisTicks:n,yAxisTicks:o,dataKey:d,bandSize:c,displayedData:l}=t;return l.map((u,p)=>{var x=J(u,d);if(a==="horizontal"){var h=M({axis:r,ticks:n,bandSize:c,entry:u,index:p}),m=$(x)?null:e.scale(x);return{x:h,y:m,value:x,payload:u}}var b=$(x)?null:r.scale(x),v=M({axis:e,ticks:o,bandSize:c,entry:u,index:p});return b==null||v==null?null:{x:b,y:v,value:x,payload:u}}).filter(Boolean)}function jt(t){var a=Z(t,ne),r=Q();return s.createElement(ge,{id:a.id,type:"line"},e=>s.createElement(s.Fragment,null,s.createElement(fe,{legendPayload:ot(a)}),s.createElement(dt,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:e}),s.createElement(be,{type:"line",id:e,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),s.createElement(ft,D({},a,{id:e}))))}var se=s.memo(jt,ve);se.displayName="Line";var At=["axis"],Nt=s.forwardRef((t,a)=>s.createElement(Be,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:At,tooltipPayloadSearcher:Fe,categoricalChartProps:t,ref:a}));function Kt({auth:t,marks:a,student:r,subjectPerformance:e,trendData:n,academicYear:o}){const[d,c]=s.useState(null);return i.jsxs(ue,{auth:t,title:"Academic Records",student:r,children:[i.jsx(pe,{title:"Academic Records"}),n&&n.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"ðŸ“ˆ Performance Trends"}),i.jsx(ze,{width:"100%",height:300,children:i.jsxs(Nt,{data:n,children:[i.jsx(Ve,{strokeDasharray:"3 3"}),i.jsx(Me,{dataKey:"period"}),i.jsx($e,{domain:[0,100]}),i.jsx(Ge,{}),i.jsx(Ye,{}),i.jsx(se,{type:"monotone",dataKey:"average",stroke:"#3b82f6",strokeWidth:2,name:"Average Score"})]})})]}),e&&e.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4",children:[i.jsx("h3",{className:"font-bold text-lg",children:"ðŸ“š Subject-wise Performance"}),i.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Your ranking and performance in each subject"})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100 text-gray-700 text-sm",children:[i.jsx("th",{className:"border-b-2 border-gray-300 px-4 py-3 text-left",children:"Subject"}),i.jsx("th",{className:"border-b-2 border-gray-300 px-4 py-3 text-center",children:"Mark"}),i.jsx("th",{className:"border-b-2 border-gray-300 px-4 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:e.map((l,u)=>i.jsxs(i.Fragment,{children:[i.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[i.jsxs("td",{className:"border-b border-gray-200 px-4 py-3",children:[i.jsx("div",{className:"font-semibold text-gray-800",children:l.subject.name}),i.jsx("div",{className:"text-xs text-gray-500",children:l.subject.code})]}),i.jsx("td",{className:"border-b border-gray-200 px-4 py-3 text-center",children:i.jsx("span",{className:"font-bold text-lg text-blue-600",children:l.average_score})}),i.jsx("td",{className:"border-b border-gray-200 px-4 py-3 text-center",children:i.jsx("button",{onClick:()=>c(d===l.subject.id?null:l.subject.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition",children:d===l.subject.id?"Hide Details":"View Details"})})]},l.subject.id),d===l.subject.id&&i.jsx("tr",{children:i.jsx("td",{colSpan:"3",className:"bg-gray-50 px-4 py-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("h4",{className:"font-bold text-gray-800 mb-4",children:["Assessment Breakdown - ",l.subject.name]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full bg-white rounded-lg shadow",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-200 text-gray-700 text-sm",children:[i.jsx("th",{className:"px-4 py-2 text-left",children:"Assessment Type"}),i.jsx("th",{className:"px-4 py-2 text-center",children:"Semester"}),i.jsx("th",{className:"px-4 py-2 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-2 text-center",children:"Max Score"}),i.jsx("th",{className:"px-4 py-2 text-center",children:"Percentage"}),i.jsx("th",{className:"px-4 py-2 text-center",children:"Date"})]})}),i.jsx("tbody",{children:l.assessments.map((p,x)=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 text-sm",children:p.assessment_type}),i.jsx("td",{className:"px-4 py-2 text-sm text-center",children:p.semester}),i.jsx("td",{className:"px-4 py-2 text-sm text-center font-bold",children:p.score}),i.jsx("td",{className:"px-4 py-2 text-sm text-center",children:p.max_score}),i.jsx("td",{className:"px-4 py-2 text-sm text-center",children:i.jsxs("span",{className:`font-semibold ${p.score/p.max_score*100>=80?"text-green-600":p.score/p.max_score*100>=60?"text-blue-600":"text-red-600"}`,children:[(p.score/p.max_score*100).toFixed(1),"%"]})}),i.jsx("td",{className:"px-4 py-2 text-sm text-center text-gray-600",children:p.date})]},x))})]})})]})})})]}))})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border-t-2 border-gray-200 px-6 py-6",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-gray-600 uppercase mb-2",children:"Overall Average"}),i.jsx("div",{className:"text-4xl font-bold text-green-600",children:e&&e.length>0?(e.reduce((l,u)=>l+parseFloat(u.average_score||0),0)/e.length).toFixed(2):"0.00"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold text-gray-600 uppercase mb-2",children:"Rank out of Class"}),i.jsx("div",{className:"text-4xl font-bold text-blue-600",children:e&&e.length>0?`${e[0]?.rank||"N/A"} / ${e[0]?.total_students||"N/A"}`:"N/A"})]})]})})})]})]})]})}export{Kt as default};
