import{j as e}from"./app-CIB1OmSr.js";import{r as _,b as y,H as C}from"./inertia-Clk-cdek.js";import{T as S}from"./TeacherLayout-DmXOOGtr.js";import{P as A}from"./PrimaryButton-D_rECmbA.js";import{S as I}from"./SecondaryButton-BqkJxyQM.js";import{I as n}from"./InputLabel-B3Q_-Zkg.js";import{I as o,T as x}from"./TextInput-DJA6YvsP.js";import{J as k,x as F,K as T}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-CccGOD2N.js";import"./ErrorBoundary-Dc57NiXK.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function Q({sections:p,subjects:j,assessmentTypes:q}){const[r,d]=_.useState([{name:"",max_weight:"",description:""}]),{data:c,setData:m,post:b,processing:g,errors:i,reset:v}=y({section_id:"",subject_id:"",semester:"1",assessment_name:"",total_weight:100,assessment_items:r}),f=()=>{const s=[...r,{name:"",max_weight:"",description:""}];d(s),m("assessment_items",s)},N=s=>{const t=r.filter((a,l)=>l!==s);d(t),m("assessment_items",t)},h=(s,t,a)=>{const l=[...r];l[s][t]=a,d(l),m("assessment_items",l)},u=()=>r.reduce((s,t)=>s+(parseFloat(t.max_weight)||0),0),w=s=>{s.preventDefault(),b(route("teacher.custom-assessments.store"),{onSuccess:()=>{v(),d([{name:"",max_weight:"",description:""}])}})};return e.jsxs(S,{children:[e.jsx(C,{title:"Create Assessment"}),e.jsx("div",{className:"bg-gradient-to-br from-[#1E40AF] to-[#3B82F6] shadow-lg mb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight mb-2",children:"ðŸ“ Create Assessment"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Design your custom assessment structure with multiple components"})]})}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"section_id",value:"Section"}),e.jsxs("select",{id:"section_id",value:c.section_id,onChange:s=>m("section_id",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Section"}),p.map(s=>e.jsx("option",{value:s.id,children:s.full_name},s.id))]}),e.jsx(o,{message:i.section_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"subject_id",value:"Subject"}),e.jsxs("select",{id:"subject_id",value:c.subject_id,onChange:s=>m("subject_id",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Subject"}),j.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(o,{message:i.subject_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"assessment_name",value:"Assessment Name"}),e.jsx(x,{id:"assessment_name",value:c.assessment_name,onChange:s=>m("assessment_name",s.target.value),className:"mt-1 block w-full",placeholder:"e.g., Midterm Examination",required:!0}),e.jsx(o,{message:i.assessment_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"semester",value:"Semester"}),e.jsxs("select",{id:"semester",value:c.semester,onChange:s=>m("semester",s.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"1",children:"Semester 1"}),e.jsx("option",{value:"2",children:"Semester 2"})]}),e.jsx(o,{message:i.semester,className:"mt-2"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(k,{className:"w-5 h-5 mr-2 text-blue-600"}),"Assessment Components"]}),e.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Add Component"]})]}),e.jsx("div",{className:"space-y-4",children:r.map((s,t)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Component ",t+1]}),r.length>1&&e.jsx("button",{type:"button",onClick:()=>N(t),className:"text-red-600 hover:text-red-800",children:e.jsx(T,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{value:"Component Name"}),e.jsx(x,{value:s.name,onChange:a=>h(t,"name",a.target.value),className:"mt-1 block w-full",placeholder:"e.g., Test, Project, Assignment",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{value:"Max Weight"}),e.jsx(x,{type:"number",value:s.max_weight,onChange:a=>h(t,"max_weight",a.target.value),className:"mt-1 block w-full",placeholder:"e.g., 30",min:"1",max:"100",required:!0})]}),e.jsxs("div",{children:[e.jsx(n,{value:"Description (Optional)"}),e.jsx(x,{value:s.description,onChange:a=>h(t,"description",a.target.value),className:"mt-1 block w-full",placeholder:"Brief description"})]})]})]},t))}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Weight:"}),e.jsxs("span",{className:`text-lg font-bold ${u()===100?"text-green-600":"text-red-600"}`,children:[u(),"%"]})]}),u()!==100&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"âš ï¸ Total weight should equal 100%"})]})]}),e.jsx(o,{message:i.assessment_items,className:"mt-2"}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[e.jsx(I,{type:"button",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(A,{type:"submit",disabled:g||u()!==100,children:g?"Creating...":"Create Assessment"})]})]})})})]})}export{Q as default};
