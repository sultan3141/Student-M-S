import{j as e}from"./app-CDqUTUpB.js";import{b as h,H as u,L as d}from"./inertia-Clk-cdek.js";import{D as g}from"./DirectorLayout-B36gng5-.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-BICl3Aqo.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function C({auth:n,students:i,grades:l,academic_years:o,filters:a}){const{data:t,setData:s,get:c,processing:x}=h({search:a.search||"",grade_id:a.grade_id||"",section_id:a.section_id||"",academic_year_id:a.academic_year_id||""}),m=r=>{r.preventDefault(),c(route("director.students.index"),{preserveState:!0})};return e.jsxs(g,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Student Section Table"}),children:[e.jsx(u,{title:"Student Section Table"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6 bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search Name, ID or Email...",className:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:t.search,onChange:r=>s("search",r.target.value)}),e.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:t.grade_id,onChange:r=>s("grade_id",r.target.value),children:[e.jsx("option",{value:"",children:"All Grades"}),l.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:t.section_id,onChange:r=>s("section_id",r.target.value),children:[e.jsx("option",{value:"",children:"All Sections"}),l.find(r=>r.id==t.grade_id)?.sections.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx("select",{className:"border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:t.academic_year_id,onChange:r=>s("academic_year_id",r.target.value),children:o.map(r=>e.jsxs("option",{value:r.id,children:[r.name," ",r.is_current?"(Current)":""]},r.id))}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm shadow-sm",disabled:x,children:"Filter Results"}),t.section_id&&e.jsx("a",{href:route("director.reports.export.section-cards",{section_id:t.section_id,academic_year_id:t.academic_year_id,format:"pdf"}),className:"bg-navy-800 text-white px-4 py-2 rounded-lg hover:bg-navy-900 transition-colors font-medium text-sm shadow-sm flex items-center justify-center",style:{backgroundColor:"#1E293B"},children:"Download Section Cards"})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-xl border border-gray-100",children:e.jsxs("div",{className:"p-0 bg-white border-b border-gray-200",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Student Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Grade/Section"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Parent/Guardian"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:i.data.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-600",children:r.student_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r.user?.name||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:r.user?.email})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[r.grade?.name," - ",r.section?.name]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:r.parents&&r.parents.length>0?e.jsx("div",{className:"font-medium text-gray-900",children:r.parents[0].user?.name}):e.jsx("span",{className:"text-gray-400 italic",children:"Not Assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsx(d,{href:route("director.students.show",r.id),className:"text-blue-600 hover:text-blue-900 font-bold bg-blue-50 px-3 py-1.5 rounded-lg transition-colors border border-transparent hover:border-blue-100",children:"View"}),r.parents&&r.parents.length>0&&e.jsx(d,{href:route("director.parents.show",r.parents[0].id),className:"text-emerald-600 hover:text-emerald-900 font-bold bg-emerald-50 px-3 py-1.5 rounded-lg transition-colors border border-transparent hover:border-emerald-100",children:"Parent"})]})})]},r.id))})]})}),i.links&&e.jsx("div",{className:"mt-4 flex justify-center",children:i.links.map((r,p)=>e.jsx(d,{href:r.url||"#",className:`px-3 py-1 mx-1 rounded border text-sm ${r.active?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,dangerouslySetInnerHTML:{__html:r.label}},p))})]})})]})})]})}export{C as default};
