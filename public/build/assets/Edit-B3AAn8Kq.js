import{j as e}from"./app-CIB1OmSr.js";import{R as j}from"./RegistrarLayout-BAVG_Nuv.js";import{b as v,r as g,H as N,L as p}from"./inertia-Clk-cdek.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-CccGOD2N.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function L({student:d,grades:n,streams:o}){const{data:a,setData:i,put:h,processing:m,errors:t}=v({full_name:d.user?.name||"",grade_id:d.grade_id||"",section_id:d.section_id||"",gender:d.gender||"Male",dob:d.dob||"",stream_id:d.stream_id||""}),[x,u]=g.useState([]);g.useEffect(()=>{const s=n.find(l=>l.id==a.grade_id);if(s){let l=s.sections;const r=s.name.includes("11")||s.name.includes("12");r&&a.stream_id?l=l.filter(c=>c.stream_id==a.stream_id):r&&a.stream_id,u(l)}else u([])},[a.grade_id,a.stream_id]);const b=s=>{i(l=>({...l,grade_id:s.target.value,section_id:"",stream_id:""}))},f=s=>{s.preventDefault(),h(route("registrar.admission.update",d.id))};return e.jsxs(j,{children:[e.jsx(N,{title:"Edit Student"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"EDIT STUDENT"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Student › Edit"})]}),e.jsx(p,{href:route("registrar.admission.index"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"← Back to List"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Edit Student Info"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:a.full_name,onChange:s=>i("full_name",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Full Name"}),t.full_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.full_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),e.jsxs("select",{value:a.grade_id,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- Select a Class --"}),n.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),t.grade_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.grade_id})]}),(()=>{const s=n.find(r=>r.id==a.grade_id);return s&&(s.name.includes("11")||s.name.includes("12"))&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stream ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.stream_id,onChange:r=>{i(c=>({...c,stream_id:r.target.value,section_id:""}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- Select Stream --"}),o&&o.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),t.stream_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.stream_id})]})})(),x.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),e.jsxs("select",{value:a.section_id,onChange:s=>i("section_id",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"-- Select Section --"}),x.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),t.section_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.section_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"Male",checked:a.gender==="Male",onChange:s=>i("gender",s.target.value),className:"mr-2"}),"Male"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"Female",checked:a.gender==="Female",onChange:s=>i("gender",s.target.value),className:"mr-2"}),"Female"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DOB"}),e.jsx("input",{type:"date",value:a.dob,onChange:s=>i("dob",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.dob&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.dob})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Updating...":"Update Student"}),e.jsx(p,{href:route("registrar.admission.index"),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})]})})]})}export{L as default};
