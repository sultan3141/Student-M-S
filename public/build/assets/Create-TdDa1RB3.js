import{j as e}from"./app-B2S3Wz0d.js";import{R as y}from"./RegistrarLayout-B-D7Rssd.js";import{r as g,b as N,H as v,L as p}from"./inertia-Clk-cdek.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-C9OBh2Gh.js";import"./heroicons-CTwCrMww.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function R({grades:o}){const[m,x]=g.useState([]),[l,d]=g.useState([]),{data:t,setData:a,post:h,processing:u,errors:r}=N({name:"",grade_id:"",section_id:"",subject_id:"",weight:"",description:""}),b=async s=>{const i=s.target.value;if(a("grade_id",i),a("section_id",""),a("subject_id",""),x([]),d([]),i){const n=o.find(c=>c.id==i);x(n?.sections||[])}},j=async s=>{const i=s.target.value;if(a("section_id",i),a("subject_id",""),d([]),i&&t.grade_id)try{const c=await(await fetch(`/registrar/assessment-types/subjects?grade_id=${t.grade_id}&section_id=${i}`)).json();d(c)}catch(n){console.error("Error fetching subjects:",n)}},f=s=>{s.preventDefault(),h(route("registrar.assessment-types.store"))};return e.jsxs(y,{children:[e.jsx(v,{title:"Create Assessment Type"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CREATE ASSESSMENT TYPE"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Create › Assessment Type"})]}),e.jsx(p,{href:route("registrar.assessment-types.index"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"← Back"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Assessment Type Details"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Assessment Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.name,onChange:s=>a("name",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Midterm Exam, Final Exam, Quiz 1"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Class (Grade) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.grade_id,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"-- Select Class --"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),r.grade_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.grade_id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Section ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.section_id,onChange:j,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!t.grade_id||m.length===0,required:!0,children:[e.jsx("option",{value:"",children:"-- Select Section --"}),m.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),!t.grade_id&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Please select a class first"}),r.section_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.section_id})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:t.subject_id,onChange:s=>a("subject_id",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!t.section_id||l.length===0,required:!0,children:[e.jsx("option",{value:"",children:"-- Select Subject --"}),l.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),!t.section_id&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Please select a section first"}),t.section_id&&l.length===0&&e.jsx("p",{className:"mt-1 text-xs text-orange-500",children:"No subjects found for this section"}),r.subject_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.subject_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:t.weight,onChange:s=>a("weight",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 30"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Percentage weight in final grade calculation"}),r.weight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.weight})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>a("description",s.target.value),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Optional description"}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:u?"Creating...":"Create Assessment Type"}),e.jsx(p,{href:route("registrar.assessment-types.index"),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancel"})]})]})]})]})})]})}export{R as default};
