import{j as e}from"./app-PKZgXky8.js";import{H as u,L as i,d as c}from"./inertia-Clk-cdek.js";import{T as g}from"./TeacherLayout-Dc6ikSbd.js";import{x as n,I as j,G as y,v as b,K as f,J as N}from"./heroicons-CTwCrMww.js";import"./vendor-DNWpyu2A.js";/* empty css            */import"./Footer-Cj0b0wi-.js";import"./ErrorBoundary-Dcn_DJN7.js";import"./menu-BcEDE3vj.js";import"./portal-CZK08gWH.js";import"./transition-Cw_pkg33.js";function S({assessments:m,error:r,filters:d}){const o=t=>{confirm("Are you sure you want to delete this assessment?")&&c.delete(route("teacher.assessments-simple.destroy",t),{preserveScroll:!0})},h=()=>{c.get(route("teacher.assessments-simple.index"))},l=m?.reduce((t,s)=>{const x=`${s.name}-${s.grade?.id}-${s.subject?.id}-${s.due_date||s.date}`;return t[x]||(t[x]=s),t},{}),a=l?Object.values(l):[],p=d?.grade_id||d?.section_id;return e.jsxs(g,{children:[e.jsx(u,{title:"Assessments"}),e.jsx("div",{className:"bg-white border-b border-gray-200 mb-6 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"Assessments"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create and manage student assessments"})]}),!r&&e.jsxs(i,{href:route("teacher.assessments-simple.create"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2",children:[e.jsx(n,{className:"w-4 h-4"}),"Create Assessment"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:r?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(j,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-900",children:"Error"}),e.jsx("p",{className:"text-sm text-red-700",children:r})]})]}):a&&a.length>0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Assessment List"}),p&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded border border-blue-200",children:"Filtered"}),e.jsx("button",{onClick:h,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.length," Total"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Grade & Subject"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Max Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.grade?.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.subject?.name})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600",children:[e.jsx(b,{className:"w-4 h-4"}),new Date(t.due_date||t.date).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.max_score||t.total_marks})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded
                                                    ${t.status==="published"?"bg-green-100 text-green-800":t.status==="locked"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.status||"draft"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("button",{onClick:()=>o(t.id),className:`p-2 rounded-lg transition-colors
                                                        ${t.status==="locked"?"text-gray-300 cursor-not-allowed":"text-red-600 hover:bg-red-50"}
                                                    `,disabled:t.status==="locked",title:"Delete assessment",children:e.jsx(f,{className:"w-4 h-4"})})})]},t.id))})]})})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 text-gray-400 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(N,{className:"w-10 h-10"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Assessments Found"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"You haven't created any assessments yet."}),e.jsxs(i,{href:route("teacher.assessments-simple.create"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[e.jsx(n,{className:"w-4 h-4"}),"Create Assessment"]})]})})]})}export{S as default};
